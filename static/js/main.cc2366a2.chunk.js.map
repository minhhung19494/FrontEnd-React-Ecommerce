{"version":3,"sources":["hoc/hoc.js","constants.js","store/actions/auth.js","store/actions/actionTypes.js","containers/Login.js","containers/Signup.js","containers/Home.js","utils.js","store/actions/cart.js","containers/ProductList.js","containers/ProductDetail.js","containers/OrderSummary.js","containers/Checkout.js","containers/Profile.js","routes.js","containers/Layout.js","App.js","registerServiceWorker.js","store/utility.js","store/reducers/auth.js","store/reducers/cart.js","index.js"],"names":["Hoc","props","children","localhost","endpoint","productListURL","productDetailURL","id","addToCartURL","orderSummaryURL","checkoutURL","addCouponURL","countryListURL","userIDURL","addressListURL","addressType","addressCreateURL","addressUpdateURL","addressDeleteURL","orderItemDeleteURL","orderItemUpdateQuantityURL","paymentListURL","authSuccess","token","type","authFail","error","logout","localStorage","removeItem","checkAuthTimeout","expirationTime","dispatch","setTimeout","LoginForm","state","username","password","handleChange","e","setState","target","name","value","handleSubmit","preventDefault","login","this","loading","to","Grid","textAlign","style","height","verticalAlign","Column","maxWidth","Header","as","color","message","Fragment","Form","size","onSubmit","Segment","stacked","Input","onChange","fluid","icon","iconPosition","placeholder","Button","disabled","Message","React","Component","connect","auth","axios","post","then","res","data","key","expirationDate","Date","getTime","setItem","catch","err","authLogin","RegistrationForm","email","password1","password2","signup","authSignup","getWidth","window","Responsive","onlyTablet","minWidth","innerWidth","DesktopContainer","hideFixedMenu","fixed","showFixedMenu","Visibility","once","onBottomPassed","onBottomPassedReverse","MobileContainer","handleSidebarHide","sidebarOpened","handleToggle","Sidebar","Pushable","onlyMobile","ResponsiveContainer","HomepageLayout","padding","vertical","container","stackable","Row","width","fontSize","floated","Image","bordered","rounded","src","celled","columns","paddingBottom","paddingTop","avatar","Container","text","Divider","className","horizontal","margin","textTransform","href","authAxios","create","baseURL","headers","Authorization","getItem","numberWithCommas","x","toString","replace","fetchCart","get","ProductList","pagination","totalPage","count","limit","handleAddToCart","slug","refreshCart","handlePageChange","activePage","pageURL","fetchProductList","results","Math","ceil","header","content","JSON","stringify","Dimmer","active","inverted","Loader","relaxed","map","item","Item","Group","divided","image","Content","onClick","history","push","title","Meta","category","Extra","discount_price","price","toFixed","class","Pagination","onPageChange","defaultActivePage","ellipsisItem","Icon","firstItem","lastItem","prevItem","nextItem","totalPages","ProductDetail","formVisible","formData","handleToggleForm","handleFetchItem","params","match","console","log","productID","handleFormatData","Object","keys","variations","updatedFormData","Card","meta","parseInt","extra","labelPosition","v","toLowerCase","Field","Select","selection","options","item_variations","primary","List","iv","attachment","description","dangerouslySetInnerHTML","__html","withRouter","OrderSummary","handleFetchOrder","response","status","renderVariations","orderItem","forEach","variation","itemVariations","handleRemoveQuantityFromCart","handleRemoveItem","itemID","delete","isAuthenticated","Table","HeaderCell","Body","order_items","i","Cell","float","cursor","quantity","Label","ribbon","final_price","colSpan","total","Footer","OrderPreview","coupon","marginLeft","code","amount","CouponForm","handleAddCoupon","CheckoutForm","success","shippingAddresses","billingAddresses","selectedBillingAddress","selectedShippingAddress","handleGetDefaultAddress","addresses","filteredAddresses","filter","el","default","length","handleBillingAddress","a","street_address","apartment_address","country","handleFetchBillingAddresses","handleFetchShippingAddresses","handleSelectChange","submit","ev","stripe","createToken","result","stripeToken","clearable","positive","marginTop","InjectedForm","injectStripe","WrappedForm","apiKey","PaymentHistory","payments","handleFetchPayments","p","timestamp","toUTCString","AddressForm","address_type","user","zip","saving","handleToggleDefault","updatedFormdata","formType","handleUpdateAddress","handleCreateAddress","userID","activeItem","callback","put","address","countries","required","search","Checkbox","label","checked","Profile","selectedAddress","displayForm","handleItemClick","handleFetchAddresses","handleGetActiveItem","handleFormatCountries","k","handleDeleteAddress","addressID","handleCallback","handleSelectAddress","handleFetchUserID","handleFetchCountries","renderAddresses","Description","Menu","pointing","BaseRouter","exact","path","component","Login","Signup","Checkout","CustomLayout","authenticated","cart","position","Dropdown","order_item","link","section","centered","shoppingCart","App","onTryAutoSignup","undefined","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","updateObject","oldObject","updatedProperties","initialState","authStart","action","authLogout","reducer","cartStart","cartSuccess","cartFail","composeEnhances","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","authReducer","cartReducer","store","createStore","applyMiddleware","thunk","app","ReactDOM","render","document","getElementById","URL","process","origin","addEventListener","fetch","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.cc2366a2.chunk.js","sourcesContent":["const Hoc = props => props.children;\r\n\r\nexport default Hoc;\r\n","export const localhost = \"https://django-react-ecommerce-app.herokuapp.com\";\r\nexport const PUBLIC_URL = \"/FrontEnd-React-Ecommerce\"\r\nconst apiURL = \"/api\";\r\n\r\nexport const endpoint = `${localhost}${apiURL}`;\r\n\r\nexport const productListURL = `${endpoint}/products/`;\r\nexport const productDetailURL = id => `${endpoint}/products/${id}/`;\r\nexport const addToCartURL = `${endpoint}/add-to-cart/`;\r\nexport const orderSummaryURL = `${endpoint}/order-summary/`;\r\nexport const checkoutURL = `${endpoint}/checkout/`;\r\nexport const addCouponURL = `${endpoint}/add-coupon/`;\r\nexport const countryListURL = `${endpoint}/countries/`;\r\nexport const userIDURL = `${endpoint}/user-id/`;\r\nexport const addressListURL = addressType =>\r\n  `${endpoint}/addresses/?address_type=${addressType}`;\r\nexport const addressCreateURL = `${endpoint}/addresses/create/`;\r\nexport const addressUpdateURL = id => `${endpoint}/addresses/${id}/update/`;\r\nexport const addressDeleteURL = id => `${endpoint}/addresses/${id}/delete/`;\r\nexport const orderItemDeleteURL = id => `${endpoint}/order-items/${id}/delete/`;\r\nexport const orderItemUpdateQuantityURL = `${endpoint}/order-item/update-quantity/`;\r\nexport const paymentListURL = `${endpoint}/payments/`;\r\n","import axios from \"axios\";\r\nimport * as actionTypes from \"./actionTypes\";\r\nimport {localhost} from '../../constants'\r\n\r\nexport const authStart = () => {\r\n  return {\r\n    type: actionTypes.AUTH_START\r\n  };\r\n};\r\n\r\nexport const authSuccess = token => {\r\n  return {\r\n    type: actionTypes.AUTH_SUCCESS,\r\n    token: token\r\n  };\r\n};\r\n\r\nexport const authFail = error => {\r\n  return {\r\n    type: actionTypes.AUTH_FAIL,\r\n    error: error\r\n  };\r\n};\r\n\r\nexport const logout = () => {\r\n  localStorage.removeItem(\"token\");\r\n  localStorage.removeItem(\"expirationDate\");\r\n  return {\r\n    type: actionTypes.AUTH_LOGOUT\r\n  };\r\n};\r\n\r\nexport const checkAuthTimeout = expirationTime => {\r\n  return dispatch => {\r\n    setTimeout(() => {\r\n      dispatch(logout());\r\n    }, expirationTime * 1000);\r\n  };\r\n};\r\n\r\nexport const authLogin = (username, password) => {\r\n  return dispatch => {\r\n    dispatch(authStart());\r\n    axios\r\n      .post(`${localhost}/rest-auth/login/`, {\r\n        username: username,\r\n        password: password\r\n      })\r\n      .then(res => {\r\n        const token = res.data.key;\r\n        const expirationDate = new Date(new Date().getTime() + 3600 * 1000);\r\n        localStorage.setItem(\"token\", token);\r\n        localStorage.setItem(\"expirationDate\", expirationDate);\r\n        dispatch(authSuccess(token));\r\n        dispatch(checkAuthTimeout(3600));\r\n      })\r\n      .catch(err => {\r\n        dispatch(authFail(err));\r\n      });\r\n  };\r\n};\r\n\r\nexport const authSignup = (username, email, password1, password2) => {\r\n  return dispatch => {\r\n    dispatch(authStart());\r\n    axios\r\n      .post(`${localhost}/rest-auth/registration/`, {\r\n        username: username,\r\n        email: email,\r\n        password1: password1,\r\n        password2: password2\r\n      })\r\n      .then(res => {\r\n        const token = res.data.key;\r\n        const expirationDate = new Date(new Date().getTime() + 3600 * 1000);\r\n        localStorage.setItem(\"token\", token);\r\n        localStorage.setItem(\"expirationDate\", expirationDate);\r\n        dispatch(authSuccess(token));\r\n        dispatch(checkAuthTimeout(3600));\r\n      })\r\n      .catch(err => {\r\n        dispatch(authFail(err));\r\n      });\r\n  };\r\n};\r\n\r\nexport const authCheckState = () => {\r\n  return dispatch => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (token === undefined) {\r\n      dispatch(logout());\r\n    } else {\r\n      const expirationDate = new Date(localStorage.getItem(\"expirationDate\"));\r\n      if (expirationDate <= new Date()) {\r\n        dispatch(logout());\r\n      } else {\r\n        dispatch(authSuccess(token));\r\n        dispatch(\r\n          checkAuthTimeout(\r\n            (expirationDate.getTime() - new Date().getTime()) / 1000\r\n          )\r\n        );\r\n      }\r\n    }\r\n  };\r\n};\r\n","export const AUTH_START = \"AUTH_START\";\r\nexport const AUTH_SUCCESS = \"AUTH_SUCCESS\";\r\nexport const AUTH_FAIL = \"AUTH_FAIL\";\r\nexport const AUTH_LOGOUT = \"AUTH_LOGOUT\";\r\n\r\nexport const CART_START = \"CART_START\";\r\nexport const CART_SUCCESS = \"CART_SUCCESS\";\r\nexport const CART_FAIL = \"CART_FAIL\";\r\n","import React from \"react\";\r\nimport {\r\n  Button,\r\n  Form,\r\n  Grid,\r\n  Header,\r\n  Message,\r\n  Segment\r\n} from \"semantic-ui-react\";\r\nimport { connect } from \"react-redux\";\r\nimport { NavLink, Redirect } from \"react-router-dom\";\r\nimport { authLogin } from \"../store/actions/auth\";\r\n\r\nclass LoginForm extends React.Component {\r\n  state = {\r\n    username: \"\",\r\n    password: \"\"\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const { username, password } = this.state;\r\n    this.props.login(username, password);\r\n  };\r\n\r\n  render() {\r\n    const { error, loading, token } = this.props;\r\n    const { username, password } = this.state;\r\n    if (token) {\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n    return (\r\n      <Grid\r\n        textAlign=\"center\"\r\n        style={{ height: \"100vh\" }}\r\n        verticalAlign=\"middle\"\r\n      >\r\n        <Grid.Column style={{ maxWidth: 450 }}>\r\n          <Header as=\"h2\" color=\"teal\" textAlign=\"center\">\r\n            Log-in to your account\r\n          </Header>\r\n          {error && <p>{this.props.error.message}</p>}\r\n\r\n          <React.Fragment>\r\n            <Form size=\"large\" onSubmit={this.handleSubmit}>\r\n              <Segment stacked>\r\n                <Form.Input\r\n                  onChange={this.handleChange}\r\n                  value={username}\r\n                  name=\"username\"\r\n                  fluid\r\n                  icon=\"user\"\r\n                  iconPosition=\"left\"\r\n                  placeholder=\"Username\"\r\n                />\r\n                <Form.Input\r\n                  onChange={this.handleChange}\r\n                  fluid\r\n                  value={password}\r\n                  name=\"password\"\r\n                  icon=\"lock\"\r\n                  iconPosition=\"left\"\r\n                  placeholder=\"Password\"\r\n                  type=\"password\"\r\n                />\r\n\r\n                <Button\r\n                  color=\"teal\"\r\n                  fluid\r\n                  size=\"large\"\r\n                  loading={loading}\r\n                  disabled={loading}\r\n                >\r\n                  Login\r\n                </Button>\r\n              </Segment>\r\n            </Form>\r\n            <Message>\r\n              New to us? <NavLink to=\"/signup\">Sign Up</NavLink>\r\n            </Message>\r\n          </React.Fragment>\r\n        </Grid.Column>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    loading: state.auth.loading,\r\n    error: state.auth.error,\r\n    token: state.auth.token\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    login: (username, password) => dispatch(authLogin(username, password))\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(LoginForm);\r\n","import React from \"react\";\r\nimport {\r\n  Button,\r\n  Form,\r\n  Grid,\r\n  Header,\r\n  Message,\r\n  Segment\r\n} from \"semantic-ui-react\";\r\nimport { connect } from \"react-redux\";\r\nimport { NavLink, Redirect } from \"react-router-dom\";\r\nimport { authSignup } from \"../store/actions/auth\";\r\n\r\nclass RegistrationForm extends React.Component {\r\n  state = {\r\n    username: \"\",\r\n    email: \"\",\r\n    password1: \"\",\r\n    password2: \"\"\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const { username, email, password1, password2 } = this.state;\r\n    this.props.signup(username, email, password1, password2);\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { username, email, password1, password2 } = this.state;\r\n    const { error, loading, token } = this.props;\r\n    if (token) {\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n    return (\r\n      <Grid\r\n        textAlign=\"center\"\r\n        style={{ height: \"100vh\" }}\r\n        verticalAlign=\"middle\"\r\n      >\r\n        <Grid.Column style={{ maxWidth: 450 }}>\r\n          <Header as=\"h2\" color=\"teal\" textAlign=\"center\">\r\n            Signup to your account\r\n          </Header>\r\n          {error && <p>{this.props.error.message}</p>}\r\n\r\n          <React.Fragment>\r\n            <Form size=\"large\" onSubmit={this.handleSubmit}>\r\n              <Segment stacked>\r\n                <Form.Input\r\n                  onChange={this.handleChange}\r\n                  value={username}\r\n                  name=\"username\"\r\n                  fluid\r\n                  icon=\"user\"\r\n                  iconPosition=\"left\"\r\n                  placeholder=\"Username\"\r\n                />\r\n                <Form.Input\r\n                  onChange={this.handleChange}\r\n                  value={email}\r\n                  name=\"email\"\r\n                  fluid\r\n                  icon=\"mail\"\r\n                  iconPosition=\"left\"\r\n                  placeholder=\"E-mail address\"\r\n                />\r\n                <Form.Input\r\n                  onChange={this.handleChange}\r\n                  fluid\r\n                  value={password1}\r\n                  name=\"password1\"\r\n                  icon=\"lock\"\r\n                  iconPosition=\"left\"\r\n                  placeholder=\"Password\"\r\n                  type=\"password\"\r\n                />\r\n                <Form.Input\r\n                  onChange={this.handleChange}\r\n                  fluid\r\n                  value={password2}\r\n                  name=\"password2\"\r\n                  icon=\"lock\"\r\n                  iconPosition=\"left\"\r\n                  placeholder=\"Confirm password\"\r\n                  type=\"password\"\r\n                />\r\n\r\n                <Button\r\n                  color=\"teal\"\r\n                  fluid\r\n                  size=\"large\"\r\n                  loading={loading}\r\n                  disabled={loading}\r\n                >\r\n                  Signup\r\n                </Button>\r\n              </Segment>\r\n            </Form>\r\n            <Message>\r\n              Already have an account? <NavLink to=\"/login\">Login</NavLink>\r\n            </Message>\r\n          </React.Fragment>\r\n        </Grid.Column>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    loading: state.auth.loading,\r\n    error: state.auth.error,\r\n    token: state.auth.token\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    signup: (username, email, password1, password2) =>\r\n      dispatch(authSignup(username, email, password1, password2))\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(RegistrationForm);\r\n","import PropTypes from \"prop-types\";\r\nimport React, { Component } from \"react\";\r\nimport {\r\n  Button,\r\n  Container,\r\n  Divider,\r\n  Grid,\r\n  Header,\r\n  Image,\r\n  Responsive,\r\n  Segment,\r\n  Sidebar,\r\n  Visibility\r\n} from \"semantic-ui-react\";\r\n\r\nconst getWidth = () => {\r\n  const isSSR = typeof window === \"undefined\";\r\n  return isSSR ? Responsive.onlyTablet.minWidth : window.innerWidth;\r\n};\r\n\r\nclass DesktopContainer extends Component {\r\n  state = {};\r\n\r\n  hideFixedMenu = () => this.setState({ fixed: false });\r\n  showFixedMenu = () => this.setState({ fixed: true });\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return (\r\n      <Responsive getWidth={getWidth} minWidth={Responsive.onlyTablet.minWidth}>\r\n        <Visibility\r\n          once={false}\r\n          onBottomPassed={this.showFixedMenu}\r\n          onBottomPassedReverse={this.hideFixedMenu}\r\n        />\r\n        {children}\r\n      </Responsive>\r\n    );\r\n  }\r\n}\r\n\r\nDesktopContainer.propTypes = {\r\n  children: PropTypes.node\r\n};\r\n\r\nclass MobileContainer extends Component {\r\n  state = {};\r\n\r\n  handleSidebarHide = () => this.setState({ sidebarOpened: false });\r\n\r\n  handleToggle = () => this.setState({ sidebarOpened: true });\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return (\r\n      <Responsive\r\n        as={Sidebar.Pushable}\r\n        getWidth={getWidth}\r\n        maxWidth={Responsive.onlyMobile.maxWidth}\r\n      >\r\n        {children}\r\n      </Responsive>\r\n    );\r\n  }\r\n}\r\n\r\nMobileContainer.propTypes = {\r\n  children: PropTypes.node\r\n};\r\n\r\nconst ResponsiveContainer = ({ children }) => (\r\n  <div>\r\n    <DesktopContainer>{children}</DesktopContainer>\r\n    <MobileContainer>{children}</MobileContainer>\r\n  </div>\r\n);\r\n\r\nResponsiveContainer.propTypes = {\r\n  children: PropTypes.node\r\n};\r\n\r\nconst HomepageLayout = () => (\r\n  <ResponsiveContainer>\r\n    <Segment style={{ padding: \"8em 0em\" }} vertical>\r\n      <Grid container stackable verticalAlign=\"middle\">\r\n        <Grid.Row>\r\n          <Grid.Column width={8}>\r\n            <Header as=\"h3\" style={{ fontSize: \"2em\" }}>\r\n              We Help Companies and Companions\r\n            </Header>\r\n            <p style={{ fontSize: \"1.33em\" }}>\r\n              We can give your company superpowers to do things that they never\r\n              thought possible. Let us delight your customers and empower your\r\n              needs... through pure data analytics.\r\n            </p>\r\n            <Header as=\"h3\" style={{ fontSize: \"2em\" }}>\r\n              We Make Bananas That Can Dance\r\n            </Header>\r\n            <p style={{ fontSize: \"1.33em\" }}>\r\n              Yes that's right, you thought it was the stuff of dreams, but even\r\n              bananas can be bioengineered.\r\n            </p>\r\n          </Grid.Column>\r\n          <Grid.Column floated=\"center\" width={8}>\r\n            <Image\r\n              bordered\r\n              rounded\r\n              size=\"large\"\r\n              src=\"https://assets.awwwards.com/awards/images/2018/03/Nubikk-cover-image%20(1).jpg\"\r\n            />\r\n          </Grid.Column>\r\n        </Grid.Row>\r\n        <Grid.Row>\r\n          <Grid.Column textAlign=\"center\">\r\n            <Button size=\"huge\">Check Them Out</Button>\r\n          </Grid.Column>\r\n        </Grid.Row>\r\n      </Grid>\r\n    </Segment>\r\n    <Segment style={{ padding: \"0em\" }} vertical>\r\n      <Grid celled=\"internally\" columns=\"equal\" stackable>\r\n        <Grid.Row textAlign=\"center\">\r\n          <Grid.Column style={{ paddingBottom: \"5em\", paddingTop: \"5em\" }}>\r\n            <Header as=\"h3\" style={{ fontSize: \"2em\" }}>\r\n              \"What a Company\"\r\n            </Header>\r\n            <p style={{ fontSize: \"1.33em\" }}>\r\n              That is what they all say about us\r\n            </p>\r\n          </Grid.Column>\r\n          <Grid.Column style={{ paddingBottom: \"5em\", paddingTop: \"5em\" }}>\r\n            <Header as=\"h3\" style={{ fontSize: \"2em\" }}>\r\n              \"I shouldn't have gone with their competitor.\"\r\n            </Header>\r\n            <p style={{ fontSize: \"1.33em\" }}>\r\n              <Image avatar src=\"/images/avatar/large/nan.jpg\" />\r\n              <b>Nan</b> Chief Fun Officer Acme Toys\r\n            </p>\r\n          </Grid.Column>\r\n        </Grid.Row>\r\n      </Grid>\r\n    </Segment>\r\n    <Segment style={{ padding: \"8em 0em\" }} vertical>\r\n      <Container text>\r\n        <Header as=\"h3\" style={{ fontSize: \"2em\" }}>\r\n          Breaking The Grid, Grabs Your Attention\r\n        </Header>\r\n        <p style={{ fontSize: \"1.33em\" }}>\r\n          Instead of focusing on content creation and hard work, we have learned\r\n          how to master the art of doing nothing by providing massive amounts of\r\n          whitespace and generic content that can seem massive, monolithic and\r\n          worth your attention.\r\n        </p>\r\n        <Button as=\"a\" size=\"large\">\r\n          Read More\r\n        </Button>\r\n        <Divider\r\n          as=\"h4\"\r\n          className=\"header\"\r\n          horizontal\r\n          style={{ margin: \"3em 0em\", textTransform: \"uppercase\" }}\r\n        >\r\n          <a href=\"#case-studies\">Case Studies</a>\r\n        </Divider>\r\n        <Header as=\"h3\" style={{ fontSize: \"2em\" }}>\r\n          Did We Tell You About Our Bananas?\r\n        </Header>\r\n        <p style={{ fontSize: \"1.33em\" }}>\r\n          Yes I know you probably disregarded the earlier boasts as non-sequitur\r\n          filler content, but it's really true. It took years of gene splicing\r\n          and combinatory DNA research, but our bananas can really dance.\r\n        </p>\r\n        <Button as=\"a\" size=\"large\">\r\n          I'm Still Quite Interested\r\n        </Button>\r\n      </Container>\r\n    </Segment>\r\n  </ResponsiveContainer>\r\n);\r\nexport default HomepageLayout;\r\n","import axios from \"axios\";\r\nimport { endpoint } from \"./constants\";\r\n\r\nexport const authAxios = axios.create({\r\n  baseURL: endpoint,\r\n  headers: {\r\n    Authorization: `Token ${localStorage.getItem(\"token\")}`\r\n  }\r\n});\r\nexport const numberWithCommas = (x) => {\r\n  return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n}","import { CART_START, CART_SUCCESS, CART_FAIL } from \"./actionTypes\";\r\nimport { authAxios } from \"../../utils\";\r\nimport { orderSummaryURL } from \"../../constants\";\r\n\r\nexport const cartStart = () => {\r\n  return {\r\n    type: CART_START\r\n  };\r\n};\r\n\r\nexport const cartSuccess = data => {\r\n  return {\r\n    type: CART_SUCCESS,\r\n    data\r\n  };\r\n};\r\n\r\nexport const cartFail = error => {\r\n  return {\r\n    type: CART_FAIL,\r\n    error: error\r\n  };\r\n};\r\n\r\nexport const fetchCart = () => {\r\n  return dispatch => {\r\n    dispatch(cartStart());\r\n    authAxios\r\n      .get(orderSummaryURL)\r\n      .then(res => {\r\n        dispatch(cartSuccess(res.data));\r\n      })\r\n      .catch(err => {\r\n        dispatch(cartFail(err));\r\n      });\r\n  };\r\n};\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport {\r\n  Container,\r\n  Dimmer,\r\n  Grid,\r\n  Icon,\r\n  Image,\r\n  Item,\r\n  Label,\r\n  List,\r\n  Loader,\r\n  Message,\r\n  Pagination,\r\n  Segment,\r\n} from \"semantic-ui-react\";\r\nimport { productListURL, addToCartURL } from \"../constants\";\r\nimport { fetchCart } from \"../store/actions/cart\";\r\nimport { authAxios, numberWithCommas } from \"../utils\";\r\nimport { endpoint } from \"../constants\"\r\n\r\nclass ProductList extends React.Component {\r\n  state = {\r\n    loading: false,\r\n    error: null,\r\n    data: [],\r\n    pagination: {\r\n      totalPage: 0,\r\n      count: 0,\r\n      limit: 16,\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({ loading: true });\r\n    axios\r\n      .get(productListURL)\r\n      .then(res => {\r\n        const { pagination } = this.state;\r\n        const count = res.data.count\r\n        const totalPage = Math.ceil(count / pagination.limit);\r\n        pagination.count = count;\r\n        pagination.totalPage = totalPage;\r\n        this.setState({ data: res.data.results, loading: false, pagination: pagination });\r\n      })\r\n      .catch(err => {\r\n        this.setState({ error: err, loading: false });\r\n      });\r\n  }\r\n\r\n  handleAddToCart = slug => {\r\n    this.setState({ loading: true });\r\n    authAxios\r\n      .post(addToCartURL, { slug })\r\n      .then(res => {\r\n        this.props.refreshCart();\r\n        this.setState({ loading: false });\r\n      })\r\n      .catch(err => {\r\n        this.setState({ error: err, loading: false });\r\n      });\r\n  };\r\n  handlePageChange = (e, { activePage }) => {\r\n    const { pagination } = this.state;\r\n    const limit = pagination.limit;\r\n    const pageURL = `${endpoint}/products/?limit=${limit}&offset=${(activePage - 1) * limit}`\r\n    this.fetchProductList(pageURL)\r\n  }\r\n  fetchProductList = (pageURL) => {\r\n    this.setState({ loading: true });\r\n    axios\r\n      .get(pageURL)\r\n      .then(res => {\r\n        this.setState({ data: res.data.results, loading: false });\r\n      })\r\n      .catch(err => {\r\n        this.setState({ error: err, loading: false });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { data, error, loading, pagination } = this.state;\r\n    return (\r\n      <Container>\r\n        {error && (\r\n          <Message\r\n            error\r\n            header=\"There was some errors with your submission\"\r\n            content={JSON.stringify(error)}\r\n          />\r\n        )}\r\n        {loading && (\r\n          <Segment>\r\n            <Dimmer active inverted>\r\n              <Loader inverted>Loading</Loader>\r\n            </Dimmer>\r\n            <Image src=\"/images/wireframe/short-paragraph.png\" />\r\n\r\n          </Segment>\r\n        )}\r\n        <Grid relaxed columns={2}>\r\n          <Grid.Row>\r\n            {data.map(item => {\r\n              return (\r\n                <Grid.Column>\r\n                  <Item.Group divided>\r\n                    <Item key={item.id}>\r\n                      <Item.Image src={item.image} />\r\n                      <Item.Content>\r\n                        <Item.Header\r\n                          as=\"a\"\r\n                          onClick={() =>\r\n                            this.props.history.push(`/products/${item.id}`)\r\n                          }\r\n                        >\r\n                          <h4>{item.title}</h4>\r\n                        </Item.Header>\r\n                        <Item.Meta>\r\n                          <span className=\"cinema\">{item.category}</span>\r\n                        </Item.Meta>\r\n                        <Item.Extra>\r\n                          {(item.discount_price != null) ?\r\n                            <div>\r\n                              <a className=\"ui tag label\"><strong><strike>$ {numberWithCommas(item.price.toFixed(2))}</strike></strong></a>\r\n                              <a className=\"ui green tag label\"><strong>$ {numberWithCommas(item.discount_price.toFixed(2))}</strong></a>\r\n                            </div>\r\n                            :\r\n                            <div>\r\n                              <a className=\"ui tag label\"><strong>$ {numberWithCommas(item.price.toFixed(2))}</strong></a>\r\n                            </div>\r\n                          }\r\n                        </Item.Extra>\r\n                      </Item.Content>\r\n                    </Item>\r\n                  </Item.Group>\r\n                  <div class=\"ui horizontal divider\"></div>\r\n                </Grid.Column>\r\n              );\r\n            })}\r\n          </Grid.Row>\r\n        </Grid>\r\n        <div className=\"ui centered\">\r\n          <Pagination\r\n            onPageChange={this.handlePageChange}\r\n            defaultActivePage={1}\r\n            ellipsisItem={{ content: <Icon name='ellipsis horizontal' />, icon: true }}\r\n            firstItem={{ content: <Icon name='angle double left' />, icon: true }}\r\n            lastItem={{ content: <Icon name='angle double right' />, icon: true }}\r\n            prevItem={{ content: <Icon name='angle left' />, icon: true }}\r\n            nextItem={{ content: <Icon name='angle right' />, icon: true }}\r\n            totalPages={pagination.totalPage}\r\n          />\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    refreshCart: () => dispatch(fetchCart())\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(ProductList);\r\n","import React from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport {\r\n  Button,\r\n  Card,\r\n  Container,\r\n  Dimmer,\r\n  Form,\r\n  Grid,\r\n  Header,\r\n  Icon,\r\n  Image,\r\n  Item,\r\n  Label,\r\n  List,\r\n  Loader,\r\n  Message,\r\n  Segment,\r\n  Select,\r\n  Divider\r\n} from \"semantic-ui-react\";\r\nimport { productDetailURL, addToCartURL } from \"../constants\";\r\nimport { fetchCart } from \"../store/actions/cart\";\r\nimport { authAxios, numberWithCommas } from \"../utils\";\r\n\r\nclass ProductDetail extends React.Component {\r\n  state = {\r\n    loading: false,\r\n    error: null,\r\n    formVisible: false,\r\n    data: [],\r\n    formData: {}\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.handleFetchItem();\r\n  }\r\n\r\n  handleToggleForm = () => {\r\n    const { formVisible } = this.state;\r\n    this.setState({\r\n      formVisible: !formVisible\r\n    });\r\n  };\r\n\r\n  handleFetchItem = () => {\r\n    const {\r\n      match: { params }\r\n    } = this.props;\r\n    console.log(this.props.match)\r\n    this.setState({ loading: true });\r\n    axios\r\n      .get(productDetailURL(params.productID))\r\n      .then(res => {\r\n        this.setState({ data: res.data, loading: false });\r\n      })\r\n      .catch(err => {\r\n        this.setState({ error: err, loading: false });\r\n      });\r\n  };\r\n\r\n  handleFormatData = formData => {\r\n    // convert {colour: 1, size: 2} to [1,2] - they're all variations\r\n    return Object.keys(formData).map(key => {\r\n      return formData[key];\r\n    });\r\n  };\r\n\r\n  handleAddToCart = slug => {\r\n    this.setState({ loading: true });\r\n    const { formData } = this.state;\r\n    console.log(formData);\r\n    const variations = this.handleFormatData(formData);\r\n    authAxios\r\n      .post(addToCartURL, { slug, variations })\r\n      .then(res => {\r\n        this.props.refreshCart();\r\n        this.setState({ loading: false });\r\n      })\r\n      .catch(err => {\r\n        this.setState({ error: err, loading: false });\r\n      });\r\n  };\r\n\r\n  handleChange = (e, { name, value }) => {\r\n    const { formData } = this.state;\r\n    const updatedFormData = {\r\n      ...formData,\r\n      [name]: value\r\n    };\r\n    this.setState({ formData: updatedFormData });\r\n  };\r\n  render() {\r\n    const { data, error, formData, formVisible, loading } = this.state;\r\n    const item = data;\r\n    return (\r\n      <Container>\r\n        {error && (\r\n          <Message\r\n            error\r\n            header=\"There was some errors with your submission\"\r\n            content={JSON.stringify(error)}\r\n          />\r\n        )}\r\n        {loading && (\r\n          <Segment>\r\n            <Dimmer active inverted>\r\n              <Loader inverted>Loading</Loader>\r\n            </Dimmer>\r\n            <Image src=\"/images/wireframe/short-paragraph.png\" />\r\n          </Segment>\r\n        )}\r\n        <Grid columns={2} divided>\r\n          <Grid.Row>\r\n            <Grid.Column>\r\n              <Card\r\n                fluid\r\n                image={item.image}\r\n                header={item.title}\r\n                meta={\r\n                  <React.Fragment>\r\n                    {item.category}\r\n                    {(item.discount_price != null) ?\r\n                      <div>\r\n                        <a className=\"ui label\"><strong><strike>$ {numberWithCommas(parseInt(item.price).toFixed(2))}</strike></strong></a>\r\n                        <a className=\"ui green label\"><strong>$ {numberWithCommas(parseInt(item.discount_price).toFixed(2))}</strong></a>\r\n                      </div>\r\n                      :\r\n                      <div>\r\n                        <a className=\"ui blue label\"><strong>$ {numberWithCommas(parseInt(item.price).toFixed(2))}</strong></a>\r\n                      </div>\r\n                    }\r\n                  </React.Fragment>\r\n                }\r\n                // description={item.description}\r\n                extra={\r\n                  <React.Fragment>\r\n                    <Button\r\n                      fluid\r\n                      color=\"yellow\"\r\n                      floated=\"right\"\r\n                      icon\r\n                      labelPosition=\"right\"\r\n                      onClick={this.handleToggleForm}\r\n                    >\r\n                      Add to cart\r\n                      <Icon name=\"cart plus\" />\r\n                    </Button>\r\n                  </React.Fragment>\r\n                }\r\n              />\r\n              {formVisible && (\r\n                <React.Fragment>\r\n                  <Divider />\r\n                  <Form onSubmit={() => this.handleAddToCart(item.slug)}>\r\n                    {data.variations.map(v => {\r\n                      const name = v.name.toLowerCase();\r\n                      return (\r\n                        <Form.Field key={v.id}>\r\n                          <Select\r\n                            name={name}\r\n                            onChange={this.handleChange}\r\n                            placeholder={`Select a ${name}`}\r\n                            fluid\r\n                            selection\r\n                            options={v.item_variations.map(item => {\r\n                              return {\r\n                                key: item.id,\r\n                                text: item.value,\r\n                                value: item.id\r\n                              };\r\n                            })}\r\n                            value={formData[name]}\r\n                          />\r\n                        </Form.Field>\r\n                      );\r\n                    })}\r\n                    <Form.Button primary>Add</Form.Button>\r\n                  </Form>\r\n                </React.Fragment>\r\n              )}\r\n            </Grid.Column>\r\n            <Grid.Column>\r\n              <Header as=\"h2\">Try different variations</Header>\r\n              {data.variations &&\r\n                data.variations.map(v => {\r\n                  return (\r\n                    <React.Fragment key={v.id}>\r\n                      <Header as=\"h3\">{v.name}</Header>\r\n                      <List horizontal >\r\n                        {v.item_variations.map(iv => {\r\n                          return (<List.Item key={iv.id}>\r\n                            {iv.attachment && (<Image rounded src={iv.attachment} />)}\r\n                            <List.Content>\r\n                              <List.Header>{iv.value}</List.Header>\r\n                            </List.Content>\r\n                          </List.Item>\r\n                          )\r\n                        }\r\n                        )}\r\n                      </List>\r\n                    </React.Fragment>\r\n                  );\r\n                })}\r\n              {data.description === \"\" ?\r\n                <div class=\"ui segment\">\r\n                  <p>Chưa có mô tả cho sản phẩm này</p>\r\n                </div> :\r\n                <div class=\"ui segment\" dangerouslySetInnerHTML={{__html: data.description}}>\r\n                </div>}\r\n            </Grid.Column>\r\n          </Grid.Row>\r\n        </Grid>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    refreshCart: () => dispatch(fetchCart())\r\n  };\r\n};\r\n\r\nexport default withRouter(\r\n  connect(\r\n    null,\r\n    mapDispatchToProps\r\n  )(ProductDetail)\r\n);\r\n","import React from \"react\";\r\nimport {\r\n  Container,\r\n  Dimmer,\r\n  Header,\r\n  Icon,\r\n  Image,\r\n  Label,\r\n  Loader,\r\n  Table,\r\n  Button,\r\n  Message,\r\n  Segment\r\n} from \"semantic-ui-react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { authAxios } from \"../utils\";\r\nimport {\r\n  addToCartURL,\r\n  orderSummaryURL,\r\n  orderItemDeleteURL,\r\n  orderItemUpdateQuantityURL\r\n} from \"../constants\";\r\n\r\nclass OrderSummary extends React.Component {\r\n  state = {\r\n    data: null,\r\n    error: null,\r\n    loading: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.handleFetchOrder();\r\n  }\r\n\r\n  handleFetchOrder = () => {\r\n    this.setState({ loading: true });\r\n    authAxios\r\n      .get(orderSummaryURL)\r\n      .then(res => {\r\n        this.setState({ data: res.data, loading: false });\r\n      })\r\n      .catch(err => {\r\n        if (err.response.status === 404) {\r\n          this.setState({\r\n            error: \"You currently do not have an order\",\r\n            loading: false\r\n          });\r\n        } else {\r\n          this.setState({ error: err, loading: false });\r\n        }\r\n      });\r\n  };\r\n\r\n  renderVariations = orderItem => {\r\n    let text = \"\";\r\n    orderItem.item_variations.forEach(iv => {\r\n      text += `${iv.variation.name}: ${iv.value}, `;\r\n    });\r\n    return text;\r\n  };\r\n\r\n  handleFormatData = itemVariations => {\r\n    // convert [{id: 1},{id: 2}] to [1,2] - they're all variations\r\n    return Object.keys(itemVariations).map(key => {\r\n      return itemVariations[key].id;\r\n    });\r\n  };\r\n\r\n  handleAddToCart = (slug, itemVariations) => {\r\n    this.setState({ loading: true });\r\n    const variations = this.handleFormatData(itemVariations);\r\n    authAxios\r\n      .post(addToCartURL, { slug, variations })\r\n      .then(res => {\r\n        this.handleFetchOrder();\r\n        this.setState({ loading: false });\r\n      })\r\n      .catch(err => {\r\n        this.setState({ error: err, loading: false });\r\n      });\r\n  };\r\n\r\n  handleRemoveQuantityFromCart = slug => {\r\n    authAxios\r\n      .post(orderItemUpdateQuantityURL, { slug })\r\n      .then(res => {\r\n        this.handleFetchOrder();\r\n      })\r\n      .catch(err => {\r\n        this.setState({ error: err });\r\n      });\r\n  };\r\n\r\n  handleRemoveItem = itemID => {\r\n    authAxios\r\n      .delete(orderItemDeleteURL(itemID))\r\n      .then(res => {\r\n        this.handleFetchOrder();\r\n      })\r\n      .catch(err => {\r\n        this.setState({ error: err });\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { data, error, loading } = this.state;\r\n    const { isAuthenticated } = this.props;\r\n    if (!isAuthenticated) {\r\n      return <Redirect to=\"/login\" />;\r\n    }\r\n    console.log(data);\r\n\r\n    return (\r\n      <Container>\r\n        <Header>Order Summary</Header>\r\n        {error && (\r\n          <Message\r\n            error\r\n            header=\"There was an error\"\r\n            content={JSON.stringify(error)}\r\n          />\r\n        )}\r\n        {loading && (\r\n          <Segment>\r\n            <Dimmer active inverted>\r\n              <Loader inverted>Loading</Loader>\r\n            </Dimmer>\r\n\r\n            <Image src=\"https://react.semantic-ui.com/images/wireframe/short-paragraph.png\" />\r\n          </Segment>\r\n        )}\r\n        {data && (\r\n          <Table celled>\r\n            <Table.Header>\r\n              <Table.Row>\r\n                <Table.HeaderCell>Item #</Table.HeaderCell>\r\n                <Table.HeaderCell>Item name</Table.HeaderCell>\r\n                <Table.HeaderCell>Item price</Table.HeaderCell>\r\n                <Table.HeaderCell>Item quantity</Table.HeaderCell>\r\n                <Table.HeaderCell>Total item price</Table.HeaderCell>\r\n              </Table.Row>\r\n            </Table.Header>\r\n\r\n            <Table.Body>\r\n              {data.order_items.map((orderItem, i) => {\r\n                return (\r\n                  <Table.Row key={orderItem.id}>\r\n                    <Table.Cell>{i + 1}</Table.Cell>\r\n                    <Table.Cell>\r\n                      {orderItem.item.title} -{\" \"}\r\n                      {this.renderVariations(orderItem)}\r\n                    </Table.Cell>\r\n                    <Table.Cell>${orderItem.item.price.toFixed(2)}</Table.Cell>\r\n                    <Table.Cell textAlign=\"center\">\r\n                      <Icon\r\n                        name=\"minus\"\r\n                        style={{ float: \"left\", cursor: \"pointer\" }}\r\n                        onClick={() =>\r\n                          this.handleRemoveQuantityFromCart(orderItem.item.slug)\r\n                        }\r\n                      />\r\n                      {orderItem.quantity}\r\n                      <Icon\r\n                        name=\"plus\"\r\n                        style={{ float: \"right\", cursor: \"pointer\" }}\r\n                        onClick={() =>\r\n                          this.handleAddToCart(\r\n                            orderItem.item.slug,\r\n                            orderItem.item_variations\r\n                          )\r\n                        }\r\n                      />\r\n                    </Table.Cell>\r\n                    <Table.Cell>\r\n                      {orderItem.item.discount_price && (\r\n                        <Label color=\"green\" ribbon>\r\n                          ON DISCOUNT\r\n                        </Label>\r\n                      )}\r\n                      ${orderItem.final_price.toFixed(2)}\r\n                      <Icon\r\n                        name=\"trash\"\r\n                        color=\"red\"\r\n                        style={{ float: \"right\", cursor: \"pointer\" }}\r\n                        onClick={() => this.handleRemoveItem(orderItem.id)}\r\n                      />\r\n                    </Table.Cell>\r\n                  </Table.Row>\r\n                );\r\n              })}\r\n              <Table.Row>\r\n                <Table.Cell />\r\n                <Table.Cell />\r\n                <Table.Cell />\r\n                <Table.Cell textAlign=\"right\" colSpan=\"2\">\r\n                  Order Total: ${data.total.toFixed(2)}\r\n                </Table.Cell>\r\n              </Table.Row>\r\n            </Table.Body>\r\n\r\n            <Table.Footer>\r\n              <Table.Row>\r\n                <Table.HeaderCell colSpan=\"5\">\r\n                  <Link to=\"/checkout\">\r\n                    <Button floated=\"right\" color=\"yellow\">\r\n                      Checkout\r\n                    </Button>\r\n                  </Link>\r\n                </Table.HeaderCell>\r\n              </Table.Row>\r\n            </Table.Footer>\r\n          </Table>\r\n        )}\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    isAuthenticated: state.auth.token !== null\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(OrderSummary);\r\n","import React, { Component } from \"react\";\r\nimport {\r\n  CardElement,\r\n  injectStripe,\r\n  Elements,\r\n  StripeProvider\r\n} from \"react-stripe-elements\";\r\nimport {\r\n  Button,\r\n  Container,\r\n  Dimmer,\r\n  Divider,\r\n  Form,\r\n  Header,\r\n  Image,\r\n  Item,\r\n  Label,\r\n  Loader,\r\n  Message,\r\n  Segment,\r\n  Select\r\n} from \"semantic-ui-react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { authAxios, numberWithCommas } from \"../utils\";\r\nimport {\r\n  checkoutURL,\r\n  orderSummaryURL,\r\n  addCouponURL,\r\n  addressListURL,\r\n} from \"../constants\";\r\n\r\nconst OrderPreview = props => {\r\n  const { data } = props;\r\n  return (\r\n    <React.Fragment>\r\n      {data && (\r\n        <React.Fragment>\r\n          <Item.Group relaxed>\r\n            {data.order_items.map((orderItem, i) => {\r\n              return (\r\n                <Item key={i}>\r\n                  <Item.Image\r\n                    size=\"tiny\"\r\n                    src={`${orderItem.item.image}`}\r\n                  />\r\n                  <Item.Content verticalAlign=\"middle\">\r\n                    <Item.Header as=\"a\">\r\n                      {orderItem.quantity} x {orderItem.item.title}\r\n                    </Item.Header>\r\n                    <Item.Extra>\r\n                      <Label>$ {numberWithCommas(orderItem.final_price.toFixed(2))}</Label>\r\n                    </Item.Extra>\r\n                  </Item.Content>\r\n                </Item>\r\n              );\r\n            })}\r\n          </Item.Group>\r\n\r\n          <Item.Group>\r\n            <Item>\r\n              <Item.Content>\r\n                <Item.Header>\r\n                  Order Total: $ {numberWithCommas(data.total.toFixed(2))}\r\n                  {data.coupon && (\r\n                    <Label color=\"green\" style={{ marginLeft: \"10px\" }}>\r\n                      Current coupon: {data.coupon.code} for $\r\n                      {data.coupon.amount}\r\n                    </Label>\r\n                  )}\r\n                </Item.Header>\r\n              </Item.Content>\r\n            </Item>\r\n          </Item.Group>\r\n        </React.Fragment>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nclass CouponForm extends Component {\r\n  state = {\r\n    code: \"\"\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      code: e.target.value\r\n    });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    const { code } = this.state;\r\n    this.props.handleAddCoupon(e, code);\r\n    this.setState({ code: \"\" });\r\n  };\r\n\r\n  render() {\r\n    const { code } = this.state;\r\n    return (\r\n      <React.Fragment>\r\n        <Form onSubmit={this.handleSubmit}>\r\n          <Form.Field>\r\n            <label>Coupon code</label>\r\n            <input\r\n              placeholder=\"Enter a coupon..\"\r\n              value={code}\r\n              onChange={this.handleChange}\r\n            />\r\n          </Form.Field>\r\n          <Button type=\"submit\">Submit</Button>\r\n        </Form>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nclass CheckoutForm extends Component {\r\n  state = {\r\n    data: null,\r\n    loading: false,\r\n    error: null,\r\n    success: false,\r\n    shippingAddresses: [],\r\n    billingAddresses: [],\r\n    selectedBillingAddress: \"\",\r\n    selectedShippingAddress: \"\"\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.handleFetchOrder();\r\n    this.handleFetchBillingAddresses();\r\n    this.handleFetchShippingAddresses();\r\n  }\r\n\r\n  handleGetDefaultAddress = addresses => {\r\n    const filteredAddresses = addresses.filter(el => el.default === true);\r\n    if (filteredAddresses.length > 0) {\r\n      return filteredAddresses[0].id;\r\n    }\r\n    return \"\";\r\n  };\r\n  handleBillingAddress = (addresses) => {\r\n    const billingAddresses = addresses.map(a => {\r\n      return {\r\n        key: a.id,\r\n        text: `${a.street_address}, ${a.apartment_address}, ${a.country}`,\r\n        value: a.id\r\n      }\r\n    })\r\n    this.setState({ billingAddresses: billingAddresses })\r\n  }\r\n\r\n  handleFetchBillingAddresses = () => {\r\n    this.setState({ loading: true });\r\n    authAxios\r\n      .get(addressListURL(\"B\"))\r\n      .then(res => {\r\n        this.setState({\r\n          billingAddresses: res.data.results.map(a => {\r\n            return {\r\n              key: a.id,\r\n              text: `${a.street_address}, ${a.apartment_address}, ${a.country}`,\r\n              value: a.id\r\n            }\r\n          }),\r\n          selectedBillingAddress: this.handleGetDefaultAddress(res.data.results),\r\n          loading: false\r\n        });\r\n      })\r\n      .catch(err => {\r\n        this.setState({ error: err, loading: false });\r\n      });\r\n  };\r\n\r\n  handleFetchShippingAddresses = () => {\r\n    this.setState({ loading: true });\r\n    authAxios\r\n      .get(addressListURL(\"S\"))\r\n      .then(res => {\r\n        this.setState({\r\n          shippingAddresses: res.data.results.map(a => {\r\n            return {\r\n              key: a.id,\r\n              text: `${a.street_address}, ${a.apartment_address}, ${a.country}`,\r\n              value: a.id\r\n            };\r\n          }),\r\n          selectedShippingAddress: this.handleGetDefaultAddress(res.data.results),\r\n          loading: false\r\n        });\r\n      })\r\n      .catch(err => {\r\n        this.setState({ error: err, loading: false });\r\n      });\r\n  };\r\n\r\n  handleFetchOrder = () => {\r\n    this.setState({ loading: true });\r\n    authAxios\r\n      .get(orderSummaryURL)\r\n      .then(res => {\r\n        this.setState({ data: res.data, loading: false });\r\n      })\r\n      .catch(err => {\r\n        if (err.response.status === 404) {\r\n          this.props.history.push(\"/products\");\r\n        } else {\r\n          this.setState({ error: err, loading: false });\r\n        }\r\n      });\r\n  };\r\n\r\n  handleAddCoupon = (e, code) => {\r\n    e.preventDefault();\r\n    this.setState({ loading: true });\r\n    authAxios\r\n      .post(addCouponURL, { code })\r\n      .then(res => {\r\n        this.setState({ loading: false });\r\n        this.handleFetchOrder();\r\n      })\r\n      .catch(err => {\r\n        this.setState({ error: err, loading: false });\r\n      });\r\n  };\r\n\r\n  handleSelectChange = (e, { name, value }) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  submit = ev => {\r\n    ev.preventDefault();\r\n    this.setState({ loading: true });\r\n    if (this.props.stripe) {\r\n      this.props.stripe.createToken().then(result => {\r\n        if (result.error) {\r\n          this.setState({ error: result.error.message, loading: false });\r\n        } else {\r\n          this.setState({ error: null });\r\n          const {\r\n            selectedBillingAddress,\r\n            selectedShippingAddress\r\n          } = this.state;\r\n          authAxios\r\n            .post(checkoutURL, {\r\n              stripeToken: result.token.id,\r\n              selectedBillingAddress,\r\n              selectedShippingAddress\r\n            })\r\n            .then(res => {\r\n              this.setState({ loading: false, success: true });\r\n            })\r\n            .catch(err => {\r\n              this.setState({ loading: false, error: err });\r\n            });\r\n        }\r\n      });\r\n    } else {\r\n      console.log(\"Stripe is not loaded\");\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      data,\r\n      error,\r\n      loading,\r\n      success,\r\n      billingAddresses,\r\n      shippingAddresses,\r\n      selectedBillingAddress,\r\n      selectedShippingAddress\r\n    } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        {error !== null && (\r\n          <Message\r\n            error\r\n            header=\"There was some errors with your submission\"\r\n            content={JSON.stringify(error)}\r\n          />\r\n        )}\r\n        {loading && (\r\n          <Segment>\r\n            <Dimmer active inverted>\r\n              <Loader inverted>Loading</Loader>\r\n            </Dimmer>\r\n            <Image src=\"/images/wireframe/short-paragraph.png\" />\r\n          </Segment>\r\n        )}\r\n\r\n        <OrderPreview data={data} />\r\n        <Divider />\r\n        <CouponForm\r\n          handleAddCoupon={(e, code) => this.handleAddCoupon(e, code)}\r\n        />\r\n        <Divider />\r\n        <Header>Select a billing address</Header>\r\n        {billingAddresses.length > 0 ? (\r\n          <Select\r\n            name=\"selectedBillingAddress\"\r\n            value={selectedBillingAddress}\r\n            clearable\r\n            options={billingAddresses}\r\n            selection\r\n            onChange={this.handleSelectChange}\r\n          />\r\n        ) : (\r\n            <p>\r\n              You need to <Link to=\"/profile\">add a billing address</Link>\r\n            </p>\r\n          )}\r\n        <Header>Select a shipping address</Header>\r\n        {shippingAddresses.length > 0 ? (\r\n          <Select\r\n            name=\"selectedShippingAddress\"\r\n            value={selectedShippingAddress}\r\n            clearable\r\n            options={shippingAddresses}\r\n            selection\r\n            onChange={this.handleSelectChange}\r\n          />\r\n        ) : (\r\n            <p>\r\n              You need to <Link to=\"/profile\">add a shipping address</Link>\r\n            </p>\r\n          )}\r\n        <Divider />\r\n\r\n        {billingAddresses.length < 1 || shippingAddresses.length < 1 ? (\r\n          <p>You need to add addresses before you can complete your purchase</p>\r\n        ) : (\r\n            <React.Fragment>\r\n              <Header>Would you like to complete the purchase?</Header>\r\n              <CardElement className=\"MyCardElement\"/>\r\n              {success && (\r\n                <Message positive>\r\n                  <Message.Header>Your payment was successful</Message.Header>\r\n                  <p>\r\n                    Go to your <b>profile</b> to see the order delivery status.\r\n                </p>\r\n                </Message>\r\n              )}\r\n              <Button\r\n                loading={loading}\r\n                disabled={loading}\r\n                primary\r\n                onClick={this.submit}\r\n                style={{ marginTop: \"10px\" }}\r\n              >\r\n                Submit\r\n            </Button>\r\n            </React.Fragment>\r\n          )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst InjectedForm = withRouter(injectStripe(CheckoutForm));\r\n\r\nconst WrappedForm = () => (\r\n  <Container text>\r\n    <StripeProvider apiKey=\"pk_test_QKAECdE2COf39hpqoQxnpWKw004wuxBPhe\">\r\n    <div>\r\n      <h1>Complete your order</h1>\r\n      <Elements>\r\n      {/* <CheckoutForm /> */}\r\n      <InjectedForm />\r\n      </Elements>\r\n    </div>\r\n    </StripeProvider>\r\n  </Container>\r\n);\r\n\r\nexport default WrappedForm;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport {\r\n  Button,\r\n  Card,\r\n  Dimmer,\r\n  Divider,\r\n  Form,\r\n  Grid,\r\n  Header,\r\n  Image,\r\n  Label,\r\n  Loader,\r\n  Menu,\r\n  Message,\r\n  Segment,\r\n  Select,\r\n  Table\r\n} from \"semantic-ui-react\";\r\nimport {\r\n  countryListURL,\r\n  addressListURL,\r\n  addressCreateURL,\r\n  addressUpdateURL,\r\n  addressDeleteURL,\r\n  userIDURL,\r\n  paymentListURL\r\n} from \"../constants\";\r\nimport { authAxios } from \"../utils\";\r\n\r\nconst UPDATE_FORM = \"UPDATE_FORM\";\r\nconst CREATE_FORM = \"CREATE_FORM\";\r\n\r\nclass PaymentHistory extends React.Component {\r\n  state = {\r\n    payments: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.handleFetchPayments();\r\n  }\r\n\r\n  handleFetchPayments = () => {\r\n    this.setState({ loading: true });\r\n    authAxios\r\n      .get(paymentListURL)\r\n      .then(res => {\r\n        this.setState({\r\n          loading: false,\r\n          payments: res.data.results\r\n        });\r\n      })\r\n      .catch(err => {\r\n        this.setState({ error: err, loading: false });\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { payments } = this.state;\r\n    return (\r\n      <Table celled>\r\n        <Table.Header>\r\n          <Table.Row>\r\n            <Table.HeaderCell>ID</Table.HeaderCell>\r\n            <Table.HeaderCell>Amount</Table.HeaderCell>\r\n            <Table.HeaderCell>Date</Table.HeaderCell>\r\n          </Table.Row>\r\n        </Table.Header>\r\n        <Table.Body>\r\n          {payments.map(p => {\r\n            return (\r\n              <Table.Row key={p.id}>\r\n                <Table.Cell>{p.id}</Table.Cell>\r\n                <Table.Cell>${p.amount.toFixed(2)}</Table.Cell>\r\n                <Table.Cell>{new Date(p.timestamp).toUTCString()}</Table.Cell>\r\n              </Table.Row>\r\n            );\r\n          })}\r\n        </Table.Body>\r\n      </Table>\r\n    );\r\n  }\r\n}\r\n\r\nclass AddressForm extends React.Component {\r\n  state = {\r\n    error: null,\r\n    loading: false,\r\n    formData: {\r\n      address_type: \"\",\r\n      apartment_address: \"\",\r\n      country: \"\",\r\n      default: false,\r\n      id: \"\",\r\n      street_address: \"\",\r\n      user: 1,\r\n      zip: \"\"\r\n    },\r\n    saving: false,\r\n    success: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { address, formType } = this.props;\r\n    if (formType === UPDATE_FORM) {\r\n      this.setState({ formData: address });\r\n    }\r\n    console.log(this.state.formType);\r\n  }\r\n\r\n  handleToggleDefault = () => {\r\n    const { formData } = this.state;\r\n    const updatedFormdata = {\r\n      ...formData,\r\n      default: !formData.default\r\n    };\r\n    this.setState({\r\n      formData: updatedFormdata\r\n    });\r\n  };\r\n\r\n  handleChange = e => {\r\n    const { formData } = this.state;\r\n    const updatedFormdata = {\r\n      ...formData,\r\n      [e.target.name]: e.target.value\r\n    };\r\n    this.setState({\r\n      formData: updatedFormdata\r\n    });\r\n  };\r\n\r\n  handleSelectChange = (e, { name, value }) => {\r\n    const { formData } = this.state;\r\n    const updatedFormdata = {\r\n      ...formData,\r\n      [name]: value\r\n    };\r\n    this.setState({\r\n      formData: updatedFormdata\r\n    });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    this.setState({ saving: true });\r\n    e.preventDefault();\r\n    const { formType } = this.props;\r\n    if (formType === UPDATE_FORM) {\r\n      this.handleUpdateAddress();\r\n    } else {\r\n      this.handleCreateAddress();\r\n    }\r\n  };\r\n\r\n  handleCreateAddress = () => {\r\n    const { userID, activeItem } = this.props;\r\n    const { formData } = this.state;\r\n    console.log(formData);\r\n    authAxios\r\n      .post(addressCreateURL, {\r\n        ...formData,\r\n        user: userID,\r\n        address_type: activeItem === \"billingAddress\" ? \"B\" : \"S\"\r\n      })\r\n      .then(res => {\r\n        this.setState({\r\n          saving: false,\r\n          success: true,\r\n          formData: { default: false }\r\n        });\r\n        this.props.callback(); //from controlles to uncontrolled\r\n      })\r\n      .catch(err => {\r\n        this.setState({ error: err });\r\n      });\r\n  };\r\n\r\n  handleUpdateAddress = () => {\r\n    const { userID, activeItem } = this.props;\r\n    const { formData } = this.state;\r\n    authAxios\r\n      .put(addressUpdateURL(formData.id), {\r\n        ...formData,\r\n        user: userID,\r\n        address_type: activeItem === \"billingAddress\" ? \"B\" : \"S\"\r\n      })\r\n      .then(res => {\r\n        this.setState({\r\n          saving: false,\r\n          success: true,\r\n          formData: { default: false }\r\n        });\r\n        this.props.callback();\r\n      })\r\n      .catch(err => {\r\n        this.setState({ error: err });\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { countries } = this.props;\r\n    const { error, formData, success, saving } = this.state;\r\n    return (\r\n      <Form onSubmit={this.handleSubmit} success={success} error={error}>\r\n        <Form.Input\r\n          required\r\n          name=\"street_address\"\r\n          placeholder=\"Street address\"\r\n          onChange={this.handleChange}\r\n          value={formData.street_address}\r\n        />\r\n        <Form.Input\r\n          required\r\n          name=\"apartment_address\"\r\n          placeholder=\"Apartment address\"\r\n          onChange={this.handleChange}\r\n          value={formData.apartment_address}\r\n        />\r\n        <Form.Field required>\r\n          <Select\r\n            loading={countries.length < 1}\r\n            fluid\r\n            clearable\r\n            search\r\n            options={countries}\r\n            name=\"country\"\r\n            placeholder=\"Country\"\r\n            onChange={this.handleSelectChange}\r\n            value={formData.country}\r\n          />\r\n        </Form.Field>\r\n        <Form.Input\r\n          required\r\n          name=\"zip\"\r\n          placeholder=\"Zip code\"\r\n          onChange={this.handleChange}\r\n          value={formData.zip}\r\n        />\r\n        <Form.Checkbox\r\n          name=\"default\"\r\n          label=\"Make this the default address?\"\r\n          onChange={this.handleToggleDefault}\r\n          checked={formData.default}\r\n        />\r\n        {success && (\r\n          <Message success header=\"Success!\" content=\"Your address was saved\" />\r\n        )}\r\n        {error && (\r\n          <Message\r\n            error\r\n            header=\"There was an error\"\r\n            content={JSON.stringify(error)}\r\n          />\r\n        )}\r\n        <Form.Button disabled={saving} loading={saving} primary>\r\n          Save\r\n        </Form.Button>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nclass Profile extends React.Component {\r\n  state = {\r\n    activeItem: \"billingAddress\",\r\n    addresses: [],\r\n    countries: [],\r\n    userID: null,\r\n    selectedAddress: null,\r\n    displayForm: true,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.handleFetchAddresses();\r\n    this.handleFetchCountries();\r\n    this.handleFetchUserID();\r\n    this.setState({ addresses: [1] })\r\n    console.log(this.state.addresses.length);\r\n  }\r\n\r\n  handleItemClick = name => {\r\n    this.setState({ activeItem: name }, () => {\r\n      this.handleFetchAddresses();\r\n    });\r\n  };\r\n\r\n  handleGetActiveItem = () => {\r\n    const { activeItem } = this.state;\r\n    if (activeItem === \"billingAddress\") {\r\n      return \"Billing Address\";\r\n    } else if (activeItem === \"shippingAddress\") {\r\n      return \"Shipping Address\";\r\n    }\r\n    return \"Payment History\";\r\n  };\r\n\r\n  handleFormatCountries = countries => {\r\n    const keys = Object.keys(countries);\r\n    return keys.map(k => {\r\n      return {\r\n        key: k,\r\n        text: countries[k],\r\n        value: k\r\n      };\r\n    });\r\n  };\r\n\r\n  handleDeleteAddress = addressID => {\r\n    authAxios\r\n      .delete(addressDeleteURL(addressID))\r\n      .then(res => {\r\n        this.handleCallback();\r\n      })\r\n      .catch(err => {\r\n        this.setState({ error: err });\r\n      });\r\n  };\r\n\r\n  handleSelectAddress = address => {\r\n    this.setState({ selectedAddress: address });\r\n  };\r\n\r\n  handleFetchUserID = () => {\r\n    authAxios\r\n      .get(userIDURL)\r\n      .then(res => {\r\n        this.setState({ userID: res.data.userID });\r\n      })\r\n      .catch(err => {\r\n        this.setState({ error: err });\r\n      });\r\n  };\r\n\r\n  handleFetchCountries = () => {\r\n    authAxios\r\n      .get(countryListURL)\r\n      .then(res => {\r\n        this.setState({ countries: this.handleFormatCountries(res.data) });\r\n      })\r\n      .catch(err => {\r\n        this.setState({ error: err });\r\n      });\r\n  };\r\n\r\n  handleFetchAddresses = () => {\r\n    this.setState({ loading: true });\r\n    const { activeItem } = this.state;\r\n    authAxios\r\n      .get(addressListURL(activeItem === \"billingAddress\" ? \"B\" : \"S\"))\r\n      .then(res => {\r\n        this.setState({ addresses: res.data.results, loading: false });\r\n      })\r\n      .catch(err => {\r\n        this.setState({ error: err });\r\n      });\r\n  };\r\n\r\n  handleCallback = () => {\r\n    this.handleFetchAddresses();\r\n    this.setState({ selectedAddress: \"blankAddress\" });\r\n    this.setState({ selectedAddress: null });\r\n  };\r\n\r\n  renderAddresses = () => {\r\n    const {\r\n      activeItem,\r\n      addresses,\r\n      countries,\r\n      selectedAddress,\r\n      userID,\r\n    } = this.state;\r\n    return (\r\n      <React.Fragment>\r\n        <Card.Group>\r\n          {addresses && addresses.map(a => {\r\n            return (\r\n              <Card key={a.id}>\r\n                <Card.Content>\r\n                  {a.default && (\r\n                    <Label as=\"a\" color=\"blue\" ribbon=\"right\">\r\n                      Default\r\n                    </Label>\r\n                  )}\r\n                  <Card.Header>\r\n                    {a.street_address}, {a.apartment_address}\r\n                  </Card.Header>\r\n                  <Card.Meta>{a.country}</Card.Meta>\r\n                  <Card.Description>{a.zip}</Card.Description>\r\n                </Card.Content>\r\n                <Card.Content extra>\r\n                  <Button\r\n                    color=\"yellow\"\r\n                    onClick={() => this.handleSelectAddress(a)}\r\n                  >\r\n                    Update\r\n                  </Button>\r\n                  <Button\r\n                    color=\"red\"\r\n                    onClick={() => this.handleDeleteAddress(a.id)}\r\n                  >\r\n                    Delete\r\n                  </Button>\r\n                </Card.Content>\r\n              </Card>\r\n            );\r\n          })}\r\n        </Card.Group>\r\n        {addresses.length > 0 ? <Divider /> : null}\r\n        {selectedAddress === null ? (\r\n          <AddressForm\r\n            activeItem={activeItem}\r\n            countries={countries}\r\n            formType={CREATE_FORM}\r\n            userID={userID}\r\n            callback={this.handleCallback}\r\n          />\r\n        ) : null}\r\n        {selectedAddress && (\r\n          <AddressForm\r\n            activeItem={activeItem}\r\n            userID={userID}\r\n            countries={countries}\r\n            address={selectedAddress}\r\n            formType={UPDATE_FORM}\r\n            callback={this.handleCallback}\r\n          />\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { activeItem, error, loading } = this.state;\r\n    const { isAuthenticated } = this.props;\r\n    if (!isAuthenticated) {\r\n      return <Redirect to=\"/login\" />;\r\n    }\r\n    return (\r\n      <Grid container columns={2} divided>\r\n        <Grid.Row columns={1}>\r\n          <Grid.Column>\r\n            {error && (\r\n              <Message\r\n                error\r\n                header=\"There was an error\"\r\n                content={JSON.stringify(error)}\r\n              />\r\n            )}\r\n            {loading && (\r\n              <Segment>\r\n                <Dimmer active inverted>\r\n                  <Loader inverted>Loading</Loader>\r\n                </Dimmer>\r\n                <Image src=\"/images/wireframe/short-paragraph.png\" />\r\n              </Segment>\r\n            )}\r\n          </Grid.Column>\r\n        </Grid.Row>\r\n        <Grid.Row>\r\n          <Grid.Column width={6}>\r\n            <Menu pointing vertical fluid>\r\n              <Menu.Item\r\n                name=\"Billing Address\"\r\n                active={activeItem === \"billingAddress\"}\r\n                onClick={() => this.handleItemClick(\"billingAddress\")}\r\n              />\r\n              <Menu.Item\r\n                name=\"Shipping Address\"\r\n                active={activeItem === \"shippingAddress\"}\r\n                onClick={() => this.handleItemClick(\"shippingAddress\")}\r\n              />\r\n              <Menu.Item\r\n                name=\"Payment history\"\r\n                active={activeItem === \"paymentHistory\"}\r\n                onClick={() => this.handleItemClick(\"paymentHistory\")}\r\n              />\r\n            </Menu>\r\n          </Grid.Column>\r\n          <Grid.Column width={10}>\r\n            <Header>{this.handleGetActiveItem()}</Header>\r\n            <Divider />\r\n            {activeItem === \"paymentHistory\" ? (\r\n              <PaymentHistory />\r\n            ) : (\r\n                this.renderAddresses()\r\n              )}\r\n          </Grid.Column>\r\n        </Grid.Row>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    isAuthenticated: state.auth.token !== null\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Profile);\r\n","import React from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\nimport Hoc from \"./hoc/hoc\";\r\n\r\nimport Login from \"./containers/Login\";\r\nimport Signup from \"./containers/Signup\";\r\nimport HomepageLayout from \"./containers/Home\";\r\nimport ProductList from \"./containers/ProductList\";\r\nimport ProductDetail from \"./containers/ProductDetail\";\r\nimport OrderSummary from \"./containers/OrderSummary\";\r\nimport Checkout from \"./containers/Checkout\";\r\nimport Profile from \"./containers/Profile\";\r\n\r\nconst BaseRouter = () => (\r\n  <Hoc>\r\n    <Route exact path=\"/products\" component={ProductList} />\r\n    <Route path=\"/products/:productID\" component={ProductDetail} />\r\n    <Route path=\"/login\" component={Login} />\r\n    <Route path=\"/signup\" component={Signup} />\r\n    <Route path=\"/order-summary\" component={OrderSummary} />\r\n    <Route path=\"/checkout\" component={Checkout} />\r\n    <Route path=\"/profile\" component={Profile} />\r\n    <Route exact path=\"/\" component={HomepageLayout} />\r\n  </Hoc>\r\n);\r\n\r\nexport default BaseRouter;\r\n","import React from \"react\";\r\nimport {\r\n  Container,\r\n  Divider,\r\n  Dropdown,\r\n  Grid,\r\n  Header,\r\n  Image,\r\n  List,\r\n  Menu,\r\n  Segment\r\n} from \"semantic-ui-react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"../store/actions/auth\";\r\nimport { fetchCart } from \"../store/actions/cart\";\r\n\r\nclass CustomLayout extends React.Component {\r\n  componentDidMount() {\r\n    this.props.fetchCart();\r\n  }\r\n\r\n  render() {\r\n    const { authenticated, cart, loading } = this.props;\r\n    return (\r\n      <div>\r\n        <Menu inverted>\r\n          <Container>\r\n            <Link to=\"/\">\r\n              <Menu.Item header>Home</Menu.Item>\r\n            </Link>\r\n            <Link to=\"/products\">\r\n              <Menu.Item header>Products</Menu.Item>\r\n            </Link>\r\n            {authenticated ? (\r\n              <React.Fragment>\r\n                <Menu.Menu position=\"right\">\r\n                  <Link to=\"/profile\">\r\n                    <Menu.Item>Profile</Menu.Item>\r\n                  </Link>\r\n                  <Dropdown\r\n                    icon=\"cart\"\r\n                    loading={loading}\r\n                    text={`${cart !== null ? cart.order_items.length : 0}`}\r\n                    pointing\r\n                    className=\"link item\"\r\n                  >\r\n                    <Dropdown.Menu>\r\n                      {cart !== null ? (\r\n                        <React.Fragment>\r\n                          {cart.order_items.map(order_item => {\r\n                            return (\r\n                              <Dropdown.Item key={order_item.id}>\r\n                                {order_item.quantity} x {order_item.item.title}\r\n                              </Dropdown.Item>\r\n                            );\r\n                          })}\r\n                          {cart.order_items.length < 1 ? (\r\n                            <Dropdown.Item>No items in your cart</Dropdown.Item>\r\n                          ) : null}\r\n                          <Dropdown.Divider />\r\n\r\n                          <Dropdown.Item\r\n                            icon=\"arrow right\"\r\n                            text=\"Checkout\"\r\n                            onClick={() =>\r\n                              this.props.history.push(\"/order-summary\")\r\n                            }\r\n                          />\r\n                        </React.Fragment>\r\n                      ) : (\r\n                        <Dropdown.Item>No items in your cart</Dropdown.Item>\r\n                      )}\r\n                    </Dropdown.Menu>\r\n                  </Dropdown>\r\n                  <Menu.Item header onClick={() => this.props.logout()}>\r\n                    Logout\r\n                  </Menu.Item>\r\n                </Menu.Menu>\r\n              </React.Fragment>\r\n            ) : (\r\n              <Menu.Menu position=\"right\">\r\n                <Link to=\"/login\">\r\n                  <Menu.Item header>Login</Menu.Item>\r\n                </Link>\r\n                <Link to=\"/signup\">\r\n                  <Menu.Item header>Signup</Menu.Item>\r\n                </Link>\r\n              </Menu.Menu>\r\n            )}\r\n          </Container>\r\n        </Menu>\r\n\r\n        {this.props.children}\r\n\r\n        <Segment\r\n          inverted\r\n          vertical\r\n          style={{ margin: \"5em 0em 0em\", padding: \"5em 0em\" }}\r\n        >\r\n          <Container textAlign=\"center\">\r\n            <Grid divided inverted stackable>\r\n              <Grid.Column width={3}>\r\n                <Header inverted as=\"h4\" content=\"Group 1\" />\r\n                <List link inverted>\r\n                  <List.Item as=\"a\">Link One</List.Item>\r\n                  <List.Item as=\"a\">Link Two</List.Item>\r\n                  <List.Item as=\"a\">Link Three</List.Item>\r\n                  <List.Item as=\"a\">Link Four</List.Item>\r\n                </List>\r\n              </Grid.Column>\r\n              <Grid.Column width={3}>\r\n                <Header inverted as=\"h4\" content=\"Group 2\" />\r\n                <List link inverted>\r\n                  <List.Item as=\"a\">Link One</List.Item>\r\n                  <List.Item as=\"a\">Link Two</List.Item>\r\n                  <List.Item as=\"a\">Link Three</List.Item>\r\n                  <List.Item as=\"a\">Link Four</List.Item>\r\n                </List>\r\n              </Grid.Column>\r\n              <Grid.Column width={3}>\r\n                <Header inverted as=\"h4\" content=\"Group 3\" />\r\n                <List link inverted>\r\n                  <List.Item as=\"a\">Link One</List.Item>\r\n                  <List.Item as=\"a\">Link Two</List.Item>\r\n                  <List.Item as=\"a\">Link Three</List.Item>\r\n                  <List.Item as=\"a\">Link Four</List.Item>\r\n                </List>\r\n              </Grid.Column>\r\n              <Grid.Column width={7}>\r\n                <Header inverted as=\"h4\" content=\"Footer Header\" />\r\n                <p>\r\n                  Extra space for a call to action inside the footer that could\r\n                  help re-engage users.\r\n                </p>\r\n              </Grid.Column>\r\n            </Grid>\r\n\r\n            <Divider inverted section />\r\n            <Image centered size=\"small\" src=\"https://cdn.dribbble.com/users/3659972/screenshots/6710532/sneak.jpg\" />\r\n            <List horizontal inverted divided link size=\"small\">\r\n              <List.Item as=\"a\" href=\"#\">\r\n                Site Map\r\n              </List.Item>\r\n              <List.Item as=\"a\" href=\"#\">\r\n                Contact Us\r\n              </List.Item>\r\n              <List.Item as=\"a\" href=\"#\">\r\n                Terms and Conditions\r\n              </List.Item>\r\n              <List.Item as=\"a\" href=\"#\">\r\n                Privacy Policy\r\n              </List.Item>\r\n            </List>\r\n          </Container>\r\n        </Segment>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    authenticated: state.auth.token !== null,\r\n    cart: state.cart.shoppingCart,\r\n    loading: state.cart.loading\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    logout: () => dispatch(logout()),\r\n    fetchCart: () => dispatch(fetchCart())\r\n  };\r\n};\r\n\r\nexport default withRouter(\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )(CustomLayout)\r\n);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport BaseRouter from \"./routes\";\r\nimport * as actions from \"./store/actions/auth\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport CustomLayout from \"./containers/Layout\";\r\n\r\nclass App extends Component {\r\n  componentDidMount() {\r\n    this.props.onTryAutoSignup();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <CustomLayout {...this.props}>\r\n          <BaseRouter />\r\n        </CustomLayout>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    isAuthenticated: state.auth.token !== null\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onTryAutoSignup: () => dispatch(actions.authCheckState())\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(App);\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === \"localhost\" ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === \"[::1]\" ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener(\"load\", () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            \"This web app is being served cache-first by a service \" +\r\n              \"worker. To learn more, visit https://goo.gl/SC7cgQ\"\r\n          );\r\n        });\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === \"installed\") {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log(\"New content is available; please refresh.\");\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log(\"Content is cached for offline use.\");\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error(\"Error during service worker registration:\", error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get(\"content-type\").indexOf(\"javascript\") === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        \"No internet connection found. App is running in offline mode.\"\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if (\"serviceWorker\" in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","export const updateObject = (oldObject, updatedProperties) => {\r\n  return {\r\n    ...oldObject,\r\n    ...updatedProperties\r\n  };\r\n};\r\n","import * as actionTypes from \"../actions/actionTypes\";\r\nimport { updateObject } from \"../utility\";\r\n\r\nconst initialState = {\r\n  token: null,\r\n  error: null,\r\n  loading: false\r\n};\r\n\r\nconst authStart = (state, action) => {\r\n  return updateObject(state, {\r\n    error: null,\r\n    loading: true\r\n  });\r\n};\r\n\r\nconst authSuccess = (state, action) => {\r\n  return updateObject(state, {\r\n    token: action.token,\r\n    error: null,\r\n    loading: false\r\n  });\r\n};\r\n\r\nconst authFail = (state, action) => {\r\n  return updateObject(state, {\r\n    error: action.error,\r\n    loading: false\r\n  });\r\n};\r\n\r\nconst authLogout = (state, action) => {\r\n  return updateObject(state, {\r\n    token: null\r\n  });\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.AUTH_START:\r\n      return authStart(state, action);\r\n    case actionTypes.AUTH_SUCCESS:\r\n      return authSuccess(state, action);\r\n    case actionTypes.AUTH_FAIL:\r\n      return authFail(state, action);\r\n    case actionTypes.AUTH_LOGOUT:\r\n      return authLogout(state, action);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import { CART_START, CART_SUCCESS, CART_FAIL } from \"../actions/actionTypes\";\r\nimport { updateObject } from \"../utility\";\r\n\r\nconst initialState = {\r\n  shoppingCart: null,\r\n  error: null,\r\n  loading: false\r\n};\r\n\r\nconst cartStart = (state, action) => {\r\n  return updateObject(state, {\r\n    error: null,\r\n    loading: true\r\n  });\r\n};\r\n\r\nconst cartSuccess = (state, action) => {\r\n  return updateObject(state, {\r\n    shoppingCart: action.data,\r\n    error: null,\r\n    loading: false\r\n  });\r\n};\r\n\r\nconst cartFail = (state, action) => {\r\n  return updateObject(state, {\r\n    error: action.error,\r\n    loading: false\r\n  });\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case CART_START:\r\n      return cartStart(state, action);\r\n    case CART_SUCCESS:\r\n      return cartSuccess(state, action);\r\n    case CART_FAIL:\r\n      return cartFail(state, action);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport registerServiceWorker from \"./registerServiceWorker\";\r\nimport { createStore, compose, applyMiddleware, combineReducers } from \"redux\";\r\nimport { Provider } from \"react-redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { HashRouter as Router, HashRouter } from \"react-router-dom\";\r\n\r\nimport authReducer from \"./store/reducers/auth\";\r\nimport cartReducer from \"./store/reducers/cart\";\r\n\r\nconst composeEnhances = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst rootReducer = combineReducers({\r\n  auth: authReducer,\r\n  cart: cartReducer\r\n});\r\n\r\nconst store = createStore(rootReducer, composeEnhances(applyMiddleware(thunk)));\r\n\r\nconst app = (\r\n  <Provider store={store}>\r\n    <Router>\r\n      <App />\r\n    </Router>\r\n  </Provider>\r\n);\r\n\r\nReactDOM.render(app, document.getElementById(\"root\"));\r\nregisterServiceWorker();\r\n"],"sourceRoot":""}
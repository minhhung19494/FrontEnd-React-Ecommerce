(this["webpackJsonpdjango-react-boilerplate"]=this["webpackJsonpdjango-react-boilerplate"]||[]).push([[0],{207:function(e,t,a){e.exports=a(370)},370:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(46),o=a.n(l),c=a(18),i=a(19),s=a(21),u=a(20),d=a(22),m=a(27),h=a(53),p=function(e){return e.children},g=a(32),f=a(394),E=a(395),v=a(385),b=a(396),y=a(393),S=a(391),C=a(25),k=a(40),O=a.n(k),A="https://django-react-ecommerce-app.herokuapp.com",w="".concat(A).concat("/api"),I="".concat(w,"/products/"),j=function(e){return"".concat(w,"/products/").concat(e,"/")},T="".concat(w,"/add-to-cart/"),D="".concat(w,"/order-summary/"),F="".concat(w,"/checkout/"),_="".concat(w,"/add-coupon/"),x="".concat(w,"/countries/"),R="".concat(w,"/user-id/"),L=function(e){return"".concat(w,"/addresses/?address_type=").concat(e)},P="".concat(w,"/addresses/create/"),H=function(e){return"".concat(w,"/addresses/").concat(e,"/update/")},z=function(e){return"".concat(w,"/addresses/").concat(e,"/delete/")},U=function(e){return"".concat(w,"/order-items/").concat(e,"/delete/")},M="".concat(w,"/order-item/update-quantity/"),B="".concat(w,"/payments/"),N=function(e){return{type:"AUTH_SUCCESS",token:e}},W=function(e){return{type:"AUTH_FAIL",error:e}},G=function(){return localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),{type:"AUTH_LOGOUT"}},q=function(e){return function(t){setTimeout((function(){t(G())}),1e3*e)}},Y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.handleChange=function(e){a.setState(Object(g.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.password;a.props.login(n,r)},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.error,a=e.loading,n=e.token,l=this.state,o=l.username,c=l.password;return n?r.a.createElement(h.a,{to:"/"}):r.a.createElement(f.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle"},r.a.createElement(f.a.Column,{style:{maxWidth:450}},r.a.createElement(E.a,{as:"h2",color:"teal",textAlign:"center"},"Log-in to your account"),t&&r.a.createElement("p",null,this.props.error.message),r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{size:"large",onSubmit:this.handleSubmit},r.a.createElement(b.a,{stacked:!0},r.a.createElement(v.a.Input,{onChange:this.handleChange,value:o,name:"username",fluid:!0,icon:"user",iconPosition:"left",placeholder:"Username"}),r.a.createElement(v.a.Input,{onChange:this.handleChange,fluid:!0,value:c,name:"password",icon:"lock",iconPosition:"left",placeholder:"Password",type:"password"}),r.a.createElement(y.a,{color:"teal",fluid:!0,size:"large",loading:a,disabled:a},"Login"))),r.a.createElement(S.a,null,"New to us? ",r.a.createElement(C.c,{to:"/signup"},"Sign Up")))))}}]),t}(r.a.Component),J=Object(m.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,token:e.auth.token}}),(function(e){return{login:function(t,a){return e(function(e,t){return function(a){a({type:"AUTH_START"}),O.a.post("".concat(A,"/rest-auth/login/"),{username:e,password:t}).then((function(e){var t=e.data.key,n=new Date((new Date).getTime()+36e5);localStorage.setItem("token",t),localStorage.setItem("expirationDate",n),a(N(t)),a(q(3600))})).catch((function(e){a(W(e))}))}}(t,a))}}}))(Y),$=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",email:"",password1:"",password2:""},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.email,l=t.password1,o=t.password2;a.props.signup(n,r,l,o)},a.handleChange=function(e){a.setState(Object(g.a)({},e.target.name,e.target.value))},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.email,n=e.password1,l=e.password2,o=this.props,c=o.error,i=o.loading;return o.token?r.a.createElement(h.a,{to:"/"}):r.a.createElement(f.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle"},r.a.createElement(f.a.Column,{style:{maxWidth:450}},r.a.createElement(E.a,{as:"h2",color:"teal",textAlign:"center"},"Signup to your account"),c&&r.a.createElement("p",null,this.props.error.message),r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{size:"large",onSubmit:this.handleSubmit},r.a.createElement(b.a,{stacked:!0},r.a.createElement(v.a.Input,{onChange:this.handleChange,value:t,name:"username",fluid:!0,icon:"user",iconPosition:"left",placeholder:"Username"}),r.a.createElement(v.a.Input,{onChange:this.handleChange,value:a,name:"email",fluid:!0,icon:"mail",iconPosition:"left",placeholder:"E-mail address"}),r.a.createElement(v.a.Input,{onChange:this.handleChange,fluid:!0,value:n,name:"password1",icon:"lock",iconPosition:"left",placeholder:"Password",type:"password"}),r.a.createElement(v.a.Input,{onChange:this.handleChange,fluid:!0,value:l,name:"password2",icon:"lock",iconPosition:"left",placeholder:"Confirm password",type:"password"}),r.a.createElement(y.a,{color:"teal",fluid:!0,size:"large",loading:i,disabled:i},"Signup"))),r.a.createElement(S.a,null,"Already have an account? ",r.a.createElement(C.c,{to:"/login"},"Login")))))}}]),t}(r.a.Component),V=Object(m.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,token:e.auth.token}}),(function(e){return{signup:function(t,a,n,r){return e(function(e,t,a,n){return function(r){r({type:"AUTH_START"}),O.a.post("".concat(A,"/rest-auth/registration/"),{username:e,email:t,password1:a,password2:n}).then((function(e){var t=e.data.key,a=new Date((new Date).getTime()+36e5);localStorage.setItem("token",t),localStorage.setItem("expirationDate",a),r(N(t)),r(q(3600))})).catch((function(e){r(W(e))}))}}(t,a,n,r))}}}))($),Q=a(399),X=a(381),K=a(397),Z=a(199),ee=a(382),te=a(383),ae=function(){return"undefined"===typeof window?Q.a.onlyTablet.minWidth:window.innerWidth},ne=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a.hideFixedMenu=function(){return a.setState({fixed:!1})},a.showFixedMenu=function(){return a.setState({fixed:!0})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.children;return r.a.createElement(Q.a,{getWidth:ae,minWidth:Q.a.onlyTablet.minWidth},r.a.createElement(X.a,{once:!1,onBottomPassed:this.showFixedMenu,onBottomPassedReverse:this.hideFixedMenu}),e)}}]),t}(n.Component),re=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a.handleSidebarHide=function(){return a.setState({sidebarOpened:!1})},a.handleToggle=function(){return a.setState({sidebarOpened:!0})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.children;return r.a.createElement(Q.a,{as:K.a.Pushable,getWidth:ae,maxWidth:Q.a.onlyMobile.maxWidth},e)}}]),t}(n.Component),le=function(e){var t=e.children;return r.a.createElement("div",null,r.a.createElement(ne,null,t),r.a.createElement(re,null,t))},oe=function(){return r.a.createElement(le,null,r.a.createElement(b.a,{style:{padding:"8em 0em"},vertical:!0},r.a.createElement(f.a,{container:!0,stackable:!0,verticalAlign:"middle"},r.a.createElement(f.a.Row,null,r.a.createElement(f.a.Column,{width:8},r.a.createElement(E.a,{as:"h3",style:{fontSize:"2em"}},"We Help Companies and Companions"),r.a.createElement("p",{style:{fontSize:"1.33em"}},"We can give your company superpowers to do things that they never thought possible. Let us delight your customers and empower your needs... through pure data analytics."),r.a.createElement(E.a,{as:"h3",style:{fontSize:"2em"}},"We Make Bananas That Can Dance"),r.a.createElement("p",{style:{fontSize:"1.33em"}},"Yes that's right, you thought it was the stuff of dreams, but even bananas can be bioengineered.")),r.a.createElement(f.a.Column,{floated:"right",width:6},r.a.createElement(Z.a,{bordered:!0,rounded:!0,size:"large",src:"/images/wireframe/white-image.png"}))),r.a.createElement(f.a.Row,null,r.a.createElement(f.a.Column,{textAlign:"center"},r.a.createElement(y.a,{size:"huge"},"Check Them Out"))))),r.a.createElement(b.a,{style:{padding:"0em"},vertical:!0},r.a.createElement(f.a,{celled:"internally",columns:"equal",stackable:!0},r.a.createElement(f.a.Row,{textAlign:"center"},r.a.createElement(f.a.Column,{style:{paddingBottom:"5em",paddingTop:"5em"}},r.a.createElement(E.a,{as:"h3",style:{fontSize:"2em"}},'"What a Company"'),r.a.createElement("p",{style:{fontSize:"1.33em"}},"That is what they all say about us")),r.a.createElement(f.a.Column,{style:{paddingBottom:"5em",paddingTop:"5em"}},r.a.createElement(E.a,{as:"h3",style:{fontSize:"2em"}},'"I shouldn\'t have gone with their competitor."'),r.a.createElement("p",{style:{fontSize:"1.33em"}},r.a.createElement(Z.a,{avatar:!0,src:"/images/avatar/large/nan.jpg"}),r.a.createElement("b",null,"Nan")," Chief Fun Officer Acme Toys"))))),r.a.createElement(b.a,{style:{padding:"8em 0em"},vertical:!0},r.a.createElement(ee.a,{text:!0},r.a.createElement(E.a,{as:"h3",style:{fontSize:"2em"}},"Breaking The Grid, Grabs Your Attention"),r.a.createElement("p",{style:{fontSize:"1.33em"}},"Instead of focusing on content creation and hard work, we have learned how to master the art of doing nothing by providing massive amounts of whitespace and generic content that can seem massive, monolithic and worth your attention."),r.a.createElement(y.a,{as:"a",size:"large"},"Read More"),r.a.createElement(te.a,{as:"h4",className:"header",horizontal:!0,style:{margin:"3em 0em",textTransform:"uppercase"}},r.a.createElement("a",{href:"#case-studies"},"Case Studies")),r.a.createElement(E.a,{as:"h3",style:{fontSize:"2em"}},"Did We Tell You About Our Bananas?"),r.a.createElement("p",{style:{fontSize:"1.33em"}},"Yes I know you probably disregarded the earlier boasts as non-sequitur filler content, but it's really true. It took years of gene splicing and combinatory DNA research, but our bananas can really dance."),r.a.createElement(y.a,{as:"a",size:"large"},"I'm Still Quite Interested"))))},ce=a(390),ie=a(384),se=a(386),ue=a(400),de=a(49),me=O.a.create({baseURL:w,headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}),he=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},pe=function(){return function(e){e({type:"CART_START"}),me.get(D).then((function(t){e({type:"CART_SUCCESS",data:t.data})})).catch((function(t){e({type:"CART_FAIL",error:t})}))}},ge=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,error:null,data:[],pagination:{totalPage:0,count:0,limit:16}},a.handleAddToCart=function(e){a.setState({loading:!0}),me.post(T,{slug:e}).then((function(e){a.props.refreshCart(),a.setState({loading:!1})})).catch((function(e){a.setState({error:e,loading:!1})}))},a.handlePageChange=function(e,t){var n=t.activePage,r=a.state.pagination.limit,l="".concat(w,"/products/?limit=").concat(r,"&offset=").concat((n-1)*r);a.fetchProductList(l)},a.fetchProductList=function(e){a.setState({loading:!0}),O.a.get(e).then((function(e){a.setState({data:e.data.results,loading:!1})})).catch((function(e){a.setState({error:e,loading:!1})}))},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),O.a.get(I).then((function(t){var a=e.state.pagination,n=t.data.count,r=Math.ceil(n/a.limit);a.count=n,a.totalPage=r,e.setState({data:t.data.results,loading:!1,pagination:a})})).catch((function(t){e.setState({error:t,loading:!1})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.error,l=t.loading,o=t.pagination;return r.a.createElement(ee.a,null,n&&r.a.createElement(S.a,{error:!0,header:"There was some errors with your submission",content:JSON.stringify(n)}),l&&r.a.createElement(b.a,null,r.a.createElement(ce.a,{active:!0,inverted:!0},r.a.createElement(ie.a,{inverted:!0},"Loading")),r.a.createElement(Z.a,{src:"/images/wireframe/short-paragraph.png"})),r.a.createElement(f.a,{relaxed:!0,columns:2},r.a.createElement(f.a.Row,null,a.map((function(t){return r.a.createElement(f.a.Column,null,r.a.createElement(se.a.Group,{divided:!0},r.a.createElement(se.a,{key:t.id},r.a.createElement(se.a.Image,{src:t.image}),r.a.createElement(se.a.Content,null,r.a.createElement(se.a.Header,{as:"a",onClick:function(){return e.props.history.push("/products/".concat(t.id))}},r.a.createElement("h4",null,t.title)),r.a.createElement(se.a.Meta,null,r.a.createElement("span",{className:"cinema"},t.category)),r.a.createElement(se.a.Extra,null,null!=t.discount_price?r.a.createElement("div",null,r.a.createElement("a",{className:"ui tag label"},r.a.createElement("strong",null,r.a.createElement("strike",null,he(t.price)))),r.a.createElement("a",{className:"ui green tag label"},r.a.createElement("strong",null,he(t.discount_price)))):r.a.createElement("div",null,r.a.createElement("a",{className:"ui tag label"},r.a.createElement("strong",null,he(t.price)))))))),r.a.createElement("div",{class:"ui horizontal divider"}))})))),r.a.createElement("div",{className:"ui centered"},r.a.createElement(ue.a,{onPageChange:this.handlePageChange,defaultActivePage:1,ellipsisItem:{content:r.a.createElement(de.a,{name:"ellipsis horizontal"}),icon:!0},firstItem:{content:r.a.createElement(de.a,{name:"angle double left"}),icon:!0},lastItem:{content:r.a.createElement(de.a,{name:"angle double right"}),icon:!0},prevItem:{content:r.a.createElement(de.a,{name:"angle left"}),icon:!0},nextItem:{content:r.a.createElement(de.a,{name:"angle right"}),icon:!0},totalPages:o.totalPage})))}}]),t}(r.a.Component),fe=Object(m.b)(null,(function(e){return{refreshCart:function(){return e(pe())}}}))(ge),Ee=a(41),ve=a(389),be=a(380),ye=a(387),Se=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,error:null,formVisible:!1,data:[],formData:{}},a.handleToggleForm=function(){var e=a.state.formVisible;a.setState({formVisible:!e})},a.handleFetchItem=function(){var e=a.props.match.params;console.log(a.props.match),a.setState({loading:!0}),O.a.get(j(e.productID)).then((function(e){a.setState({data:e.data,loading:!1})})).catch((function(e){a.setState({error:e,loading:!1})}))},a.handleFormatData=function(e){return Object.keys(e).map((function(t){return e[t]}))},a.handleAddToCart=function(e){a.setState({loading:!0});var t=a.state.formData;console.log(t);var n=a.handleFormatData(t);me.post(T,{slug:e,variations:n}).then((function(e){a.props.refreshCart(),a.setState({loading:!1})})).catch((function(e){a.setState({error:e,loading:!1})}))},a.handleChange=function(e,t){var n=t.name,r=t.value,l=a.state.formData,o=Object(Ee.a)({},l,Object(g.a)({},n,r));a.setState({formData:o})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.handleFetchItem()}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.error,l=t.formData,o=t.formVisible,c=t.loading,i=a;return r.a.createElement(ee.a,null,n&&r.a.createElement(S.a,{error:!0,header:"There was some errors with your submission",content:JSON.stringify(n)}),c&&r.a.createElement(b.a,null,r.a.createElement(ce.a,{active:!0,inverted:!0},r.a.createElement(ie.a,{inverted:!0},"Loading")),r.a.createElement(Z.a,{src:"/images/wireframe/short-paragraph.png"})),r.a.createElement(f.a,{columns:2,divided:!0},r.a.createElement(f.a.Row,null,r.a.createElement(f.a.Column,null,r.a.createElement(ve.a,{fluid:!0,image:i.image,header:i.title,meta:r.a.createElement(r.a.Fragment,null,i.category,null!=i.discount_price?r.a.createElement("div",null,r.a.createElement("a",{className:"ui label"},r.a.createElement("strong",null,r.a.createElement("strike",null,he(parseInt(i.price))))),r.a.createElement("a",{className:"ui green label"},r.a.createElement("strong",null,he(parseInt(i.discount_price))))):r.a.createElement("div",null,r.a.createElement("a",{className:"ui blue label"},r.a.createElement("strong",null,he(parseInt(i.price)))))),extra:r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{fluid:!0,color:"yellow",floated:"right",icon:!0,labelPosition:"right",onClick:this.handleToggleForm},"Add to cart",r.a.createElement(de.a,{name:"cart plus"})))}),o&&r.a.createElement(r.a.Fragment,null,r.a.createElement(te.a,null),r.a.createElement(v.a,{onSubmit:function(){return e.handleAddToCart(i.slug)}},a.variations.map((function(t){var a=t.name.toLowerCase();return r.a.createElement(v.a.Field,{key:t.id},r.a.createElement(be.a,{name:a,onChange:e.handleChange,placeholder:"Select a ".concat(a),fluid:!0,selection:!0,options:t.item_variations.map((function(e){return{key:e.id,text:e.value,value:e.id}})),value:l[a]}))})),r.a.createElement(v.a.Button,{primary:!0},"Add")))),r.a.createElement(f.a.Column,null,r.a.createElement(E.a,{as:"h2"},"Try different variations"),a.variations&&a.variations.map((function(e){return r.a.createElement(r.a.Fragment,{key:e.id},r.a.createElement(E.a,{as:"h3"},e.name),r.a.createElement(ye.a,{horizontal:!0},e.item_variations.map((function(e){return r.a.createElement(ye.a.Item,{key:e.id},e.attachment&&r.a.createElement(Z.a,{rounded:!0,src:e.attachment}),r.a.createElement(ye.a.Content,null,r.a.createElement(ye.a.Header,null,e.value)))}))))})),""===a.description?r.a.createElement("div",{class:"ui segment"},r.a.createElement("p",null,"Ch\u01b0a c\xf3 m\xf4 t\u1ea3 cho s\u1ea3n ph\u1ea9m n\xe0y")):r.a.createElement("div",{class:"ui segment",dangerouslySetInnerHTML:{__html:a.description}})))))}}]),t}(r.a.Component),Ce=Object(h.f)(Object(m.b)(null,(function(e){return{refreshCart:function(){return e(pe())}}}))(Se)),ke=a(388),Oe=a(104),Ae=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:null,error:null,loading:!1},a.handleFetchOrder=function(){a.setState({loading:!0}),me.get(D).then((function(e){a.setState({data:e.data,loading:!1})})).catch((function(e){404===e.response.status?a.setState({error:"You currently do not have an order",loading:!1}):a.setState({error:e,loading:!1})}))},a.renderVariations=function(e){var t="";return e.item_variations.forEach((function(e){t+="".concat(e.variation.name,": ").concat(e.value,", ")})),t},a.handleFormatData=function(e){return Object.keys(e).map((function(t){return e[t].id}))},a.handleAddToCart=function(e,t){a.setState({loading:!0});var n=a.handleFormatData(t);me.post(T,{slug:e,variations:n}).then((function(e){a.handleFetchOrder(),a.setState({loading:!1})})).catch((function(e){a.setState({error:e,loading:!1})}))},a.handleRemoveQuantityFromCart=function(e){me.post(M,{slug:e}).then((function(e){a.handleFetchOrder()})).catch((function(e){a.setState({error:e})}))},a.handleRemoveItem=function(e){me.delete(U(e)).then((function(e){a.handleFetchOrder()})).catch((function(e){a.setState({error:e})}))},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.handleFetchOrder()}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.error,l=t.loading;return this.props.isAuthenticated?(console.log(a),r.a.createElement(ee.a,null,r.a.createElement(E.a,null,"Order Summary"),n&&r.a.createElement(S.a,{error:!0,header:"There was an error",content:JSON.stringify(n)}),l&&r.a.createElement(b.a,null,r.a.createElement(ce.a,{active:!0,inverted:!0},r.a.createElement(ie.a,{inverted:!0},"Loading")),r.a.createElement(Z.a,{src:"https://react.semantic-ui.com/images/wireframe/short-paragraph.png"})),a&&r.a.createElement(ke.a,{celled:!0},r.a.createElement(ke.a.Header,null,r.a.createElement(ke.a.Row,null,r.a.createElement(ke.a.HeaderCell,null,"Item #"),r.a.createElement(ke.a.HeaderCell,null,"Item name"),r.a.createElement(ke.a.HeaderCell,null,"Item price"),r.a.createElement(ke.a.HeaderCell,null,"Item quantity"),r.a.createElement(ke.a.HeaderCell,null,"Total item price"))),r.a.createElement(ke.a.Body,null,a.order_items.map((function(t,a){return r.a.createElement(ke.a.Row,{key:t.id},r.a.createElement(ke.a.Cell,null,a+1),r.a.createElement(ke.a.Cell,null,t.item.title," -"," ",e.renderVariations(t)),r.a.createElement(ke.a.Cell,null,"$",t.item.price),r.a.createElement(ke.a.Cell,{textAlign:"center"},r.a.createElement(de.a,{name:"minus",style:{float:"left",cursor:"pointer"},onClick:function(){return e.handleRemoveQuantityFromCart(t.item.slug)}}),t.quantity,r.a.createElement(de.a,{name:"plus",style:{float:"right",cursor:"pointer"},onClick:function(){return e.handleAddToCart(t.item.slug,t.item_variations)}})),r.a.createElement(ke.a.Cell,null,t.item.discount_price&&r.a.createElement(Oe.a,{color:"green",ribbon:!0},"ON DISCOUNT"),"$",t.final_price,r.a.createElement(de.a,{name:"trash",color:"red",style:{float:"right",cursor:"pointer"},onClick:function(){return e.handleRemoveItem(t.id)}})))})),r.a.createElement(ke.a.Row,null,r.a.createElement(ke.a.Cell,null),r.a.createElement(ke.a.Cell,null),r.a.createElement(ke.a.Cell,null),r.a.createElement(ke.a.Cell,{textAlign:"right",colSpan:"2"},"Order Total: $",a.total))),r.a.createElement(ke.a.Footer,null,r.a.createElement(ke.a.Row,null,r.a.createElement(ke.a.HeaderCell,{colSpan:"5"},r.a.createElement(C.b,{to:"/checkout"},r.a.createElement(y.a,{floated:"right",color:"yellow"},"Checkout")))))))):r.a.createElement(h.a,{to:"/login"})}}]),t}(r.a.Component),we=Object(m.b)((function(e){return{isAuthenticated:null!==e.auth.token}}))(Ae),Ie=a(79),je=function(e){var t=e.data;return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a.Group,{relaxed:!0},t.order_items.map((function(e,t){return r.a.createElement(se.a,{key:t},r.a.createElement(se.a.Image,{size:"tiny",src:"http://127.0.0.1:8000".concat(e.item.image)}),r.a.createElement(se.a.Content,{verticalAlign:"middle"},r.a.createElement(se.a.Header,{as:"a"},e.quantity," x ",e.item.title),r.a.createElement(se.a.Extra,null,r.a.createElement(Oe.a,null,"$",e.final_price))))}))),r.a.createElement(se.a.Group,null,r.a.createElement(se.a,null,r.a.createElement(se.a.Content,null,r.a.createElement(se.a.Header,null,"Order Total: $",t.total,t.coupon&&r.a.createElement(Oe.a,{color:"green",style:{marginLeft:"10px"}},"Current coupon: ",t.coupon.code," for $",t.coupon.amount)))))))},Te=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={code:""},a.handleChange=function(e){a.setState({code:e.target.value})},a.handleSubmit=function(e){var t=a.state.code;a.props.handleAddCoupon(e,t),a.setState({code:""})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.code;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{onSubmit:this.handleSubmit},r.a.createElement(v.a.Field,null,r.a.createElement("label",null,"Coupon code"),r.a.createElement("input",{placeholder:"Enter a coupon..",value:e,onChange:this.handleChange})),r.a.createElement(y.a,{type:"submit"},"Submit")))}}]),t}(n.Component),De=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:null,loading:!1,error:null,success:!1,shippingAddresses:[],billingAddresses:[],selectedBillingAddress:"",selectedShippingAddress:""},a.handleGetDefaultAddress=function(e){var t=e.filter((function(e){return!0===e.default}));return t.length>0?t[0].id:""},a.handleFetchBillingAddresses=function(){a.setState({loading:!0}),me.get(L("B")).then((function(e){a.setState({billingAddresses:e.data.map((function(e){return{key:e.id,text:"".concat(e.street_address,", ").concat(e.apartment_address,", ").concat(e.country),value:e.id}})),selectedBillingAddress:a.handleGetDefaultAddress(e.data),loading:!1})})).catch((function(e){a.setState({error:e,loading:!1})}))},a.handleFetchShippingAddresses=function(){a.setState({loading:!0}),me.get(L("S")).then((function(e){a.setState({shippingAddresses:e.data.map((function(e){return{key:e.id,text:"".concat(e.street_address,", ").concat(e.apartment_address,", ").concat(e.country),value:e.id}})),selectedShippingAddress:a.handleGetDefaultAddress(e.data),loading:!1})})).catch((function(e){a.setState({error:e,loading:!1})}))},a.handleFetchOrder=function(){a.setState({loading:!0}),me.get(D).then((function(e){a.setState({data:e.data,loading:!1})})).catch((function(e){404===e.response.status?a.props.history.push("/products"):a.setState({error:e,loading:!1})}))},a.handleAddCoupon=function(e,t){e.preventDefault(),a.setState({loading:!0}),me.post(_,{code:t}).then((function(e){a.setState({loading:!1}),a.handleFetchOrder()})).catch((function(e){a.setState({error:e,loading:!1})}))},a.handleSelectChange=function(e,t){var n=t.name,r=t.value;a.setState(Object(g.a)({},n,r))},a.submit=function(e){e.preventDefault(),a.setState({loading:!0}),a.props.stripe?a.props.stripe.createToken().then((function(e){if(e.error)a.setState({error:e.error.message,loading:!1});else{a.setState({error:null});var t=a.state,n=t.selectedBillingAddress,r=t.selectedShippingAddress;me.post(F,{stripeToken:e.token.id,selectedBillingAddress:n,selectedShippingAddress:r}).then((function(e){a.setState({loading:!1,success:!0})})).catch((function(e){a.setState({loading:!1,error:e})}))}})):console.log("Stripe is not loaded")},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.handleFetchOrder(),this.handleFetchBillingAddresses(),this.handleFetchShippingAddresses()}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.error,l=t.loading,o=t.success,c=t.billingAddresses,i=t.shippingAddresses,s=t.selectedBillingAddress,u=t.selectedShippingAddress;return r.a.createElement("div",null,n&&r.a.createElement(S.a,{error:!0,header:"There was some errors with your submission",content:JSON.stringify(n)}),l&&r.a.createElement(b.a,null,r.a.createElement(ce.a,{active:!0,inverted:!0},r.a.createElement(ie.a,{inverted:!0},"Loading")),r.a.createElement(Z.a,{src:"/images/wireframe/short-paragraph.png"})),r.a.createElement(je,{data:a}),r.a.createElement(te.a,null),r.a.createElement(Te,{handleAddCoupon:function(t,a){return e.handleAddCoupon(t,a)}}),r.a.createElement(te.a,null),r.a.createElement(E.a,null,"Select a billing address"),c.length>0?r.a.createElement(be.a,{name:"selectedBillingAddress",value:s,clearable:!0,options:c,selection:!0,onChange:this.handleSelectChange}):r.a.createElement("p",null,"You need to ",r.a.createElement(C.b,{to:"/profile"},"add a billing address")),r.a.createElement(E.a,null,"Select a shipping address"),i.length>0?r.a.createElement(be.a,{name:"selectedShippingAddress",value:u,clearable:!0,options:i,selection:!0,onChange:this.handleSelectChange}):r.a.createElement("p",null,"You need to ",r.a.createElement(C.b,{to:"/profile"},"add a shipping address")),r.a.createElement(te.a,null),c.length<1||i.length<1?r.a.createElement("p",null,"You need to add addresses before you can complete your purchase"):r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null,"Would you like to complete the purchase?"),r.a.createElement(Ie.CardElement,null),o&&r.a.createElement(S.a,{positive:!0},r.a.createElement(S.a.Header,null,"Your payment was successful"),r.a.createElement("p",null,"Go to your ",r.a.createElement("b",null,"profile")," to see the order delivery status.")),r.a.createElement(y.a,{loading:l,disabled:l,primary:!0,onClick:this.submit,style:{marginTop:"10px"}},"Submit")))}}]),t}(n.Component),Fe=Object(h.f)(Object(Ie.injectStripe)(De)),_e=function(){return r.a.createElement(ee.a,{text:!0},r.a.createElement(Ie.StripeProvider,{apiKey:""},r.a.createElement("div",null,r.a.createElement("h1",null,"Complete your order"),r.a.createElement(Ie.Elements,null,r.a.createElement(Fe,null)))))},xe=a(398),Re=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={payments:[]},a.handleFetchPayments=function(){a.setState({loading:!0}),me.get(B).then((function(e){a.setState({loading:!1,payments:e.data})})).catch((function(e){a.setState({error:e,loading:!1})}))},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.handleFetchPayments()}},{key:"render",value:function(){var e=this.state.payments;return r.a.createElement(ke.a,{celled:!0},r.a.createElement(ke.a.Header,null,r.a.createElement(ke.a.Row,null,r.a.createElement(ke.a.HeaderCell,null,"ID"),r.a.createElement(ke.a.HeaderCell,null,"Amount"),r.a.createElement(ke.a.HeaderCell,null,"Date"))),r.a.createElement(ke.a.Body,null,e.map((function(e){return r.a.createElement(ke.a.Row,{key:e.id},r.a.createElement(ke.a.Cell,null,e.id),r.a.createElement(ke.a.Cell,null,"$",e.amount),r.a.createElement(ke.a.Cell,null,new Date(e.timestamp).toUTCString()))}))))}}]),t}(r.a.Component),Le=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={error:null,loading:!1,formData:{address_type:"",apartment_address:"",country:"",default:!1,id:"",street_address:"",user:1,zip:""},saving:!1,success:!1},a.handleToggleDefault=function(){var e=a.state.formData,t=Object(Ee.a)({},e,{default:!e.default});a.setState({formData:t})},a.handleChange=function(e){var t=a.state.formData,n=Object(Ee.a)({},t,Object(g.a)({},e.target.name,e.target.value));a.setState({formData:n})},a.handleSelectChange=function(e,t){var n=t.name,r=t.value,l=a.state.formData,o=Object(Ee.a)({},l,Object(g.a)({},n,r));a.setState({formData:o})},a.handleSubmit=function(e){a.setState({saving:!0}),e.preventDefault(),"UPDATE_FORM"===a.props.formType?a.handleUpdateAddress():a.handleCreateAddress()},a.handleCreateAddress=function(){var e=a.props,t=e.userID,n=e.activeItem,r=a.state.formData;me.post(P,Object(Ee.a)({},r,{user:t,address_type:"billingAddress"===n?"B":"S"})).then((function(e){a.setState({saving:!1,success:!0,formData:{default:!1}}),a.props.callback()})).catch((function(e){a.setState({error:e})}))},a.handleUpdateAddress=function(){var e=a.props,t=e.userID,n=e.activeItem,r=a.state.formData;me.put(H(r.id),Object(Ee.a)({},r,{user:t,address_type:"billingAddress"===n?"B":"S"})).then((function(e){a.setState({saving:!1,success:!0,formData:{default:!1}}),a.props.callback()})).catch((function(e){a.setState({error:e})}))},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.address;"UPDATE_FORM"===e.formType&&this.setState({formData:t})}},{key:"render",value:function(){var e=this.props.countries,t=this.state,a=t.error,n=t.formData,l=t.success,o=t.saving;return r.a.createElement(v.a,{onSubmit:this.handleSubmit,success:l,error:a},r.a.createElement(v.a.Input,{required:!0,name:"street_address",placeholder:"Street address",onChange:this.handleChange,value:n.street_address}),r.a.createElement(v.a.Input,{required:!0,name:"apartment_address",placeholder:"Apartment address",onChange:this.handleChange,value:n.apartment_address}),r.a.createElement(v.a.Field,{required:!0},r.a.createElement(be.a,{loading:e.length<1,fluid:!0,clearable:!0,search:!0,options:e,name:"country",placeholder:"Country",onChange:this.handleSelectChange,value:n.country})),r.a.createElement(v.a.Input,{required:!0,name:"zip",placeholder:"Zip code",onChange:this.handleChange,value:n.zip}),r.a.createElement(v.a.Checkbox,{name:"default",label:"Make this the default address?",onChange:this.handleToggleDefault,checked:n.default}),l&&r.a.createElement(S.a,{success:!0,header:"Success!",content:"Your address was saved"}),a&&r.a.createElement(S.a,{error:!0,header:"There was an error",content:JSON.stringify(a)}),r.a.createElement(v.a.Button,{disabled:o,loading:o,primary:!0},"Save"))}}]),t}(r.a.Component),Pe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={activeItem:"billingAddress",addresses:[],countries:[],userID:null,selectedAddress:null},a.handleItemClick=function(e){a.setState({activeItem:e},(function(){a.handleFetchAddresses()}))},a.handleGetActiveItem=function(){var e=a.state.activeItem;return"billingAddress"===e?"Billing Address":"shippingAddress"===e?"Shipping Address":"Payment History"},a.handleFormatCountries=function(e){return Object.keys(e).map((function(t){return{key:t,text:e[t],value:t}}))},a.handleDeleteAddress=function(e){me.delete(z(e)).then((function(e){a.handleCallback()})).catch((function(e){a.setState({error:e})}))},a.handleSelectAddress=function(e){a.setState({selectedAddress:e})},a.handleFetchUserID=function(){me.get(R).then((function(e){a.setState({userID:e.data.userID})})).catch((function(e){a.setState({error:e})}))},a.handleFetchCountries=function(){me.get(x).then((function(e){a.setState({countries:a.handleFormatCountries(e.data)})})).catch((function(e){a.setState({error:e})}))},a.handleFetchAddresses=function(){a.setState({loading:!0});var e=a.state.activeItem;me.get(L("billingAddress"===e?"B":"S")).then((function(e){a.setState({addresses:e.data,loading:!1})})).catch((function(e){a.setState({error:e})}))},a.handleCallback=function(){a.handleFetchAddresses(),a.setState({selectedAddress:null})},a.renderAddresses=function(){var e=a.state,t=e.activeItem,n=e.addresses,l=e.countries,o=e.selectedAddress,c=e.userID;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ve.a.Group,null,n.map((function(e){return r.a.createElement(ve.a,{key:e.id},r.a.createElement(ve.a.Content,null,e.default&&r.a.createElement(Oe.a,{as:"a",color:"blue",ribbon:"right"},"Default"),r.a.createElement(ve.a.Header,null,e.street_address,", ",e.apartment_address),r.a.createElement(ve.a.Meta,null,e.country),r.a.createElement(ve.a.Description,null,e.zip)),r.a.createElement(ve.a.Content,{extra:!0},r.a.createElement(y.a,{color:"yellow",onClick:function(){return a.handleSelectAddress(e)}},"Update"),r.a.createElement(y.a,{color:"red",onClick:function(){return a.handleDeleteAddress(e.id)}},"Delete")))}))),n.length>0?r.a.createElement(te.a,null):null,null===o?r.a.createElement(Le,{activeItem:t,countries:l,formType:"CREATE_FORM",userID:c,callback:a.handleCallback}):null,o&&r.a.createElement(Le,{activeItem:t,userID:c,countries:l,address:o,formType:"UPDATE_FORM",callback:a.handleCallback}))},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.handleFetchAddresses(),this.handleFetchCountries(),this.handleFetchUserID()}},{key:"render",value:function(){var e=this,t=this.state,a=t.activeItem,n=t.error,l=t.loading;return this.props.isAuthenticated?r.a.createElement(f.a,{container:!0,columns:2,divided:!0},r.a.createElement(f.a.Row,{columns:1},r.a.createElement(f.a.Column,null,n&&r.a.createElement(S.a,{error:!0,header:"There was an error",content:JSON.stringify(n)}),l&&r.a.createElement(b.a,null,r.a.createElement(ce.a,{active:!0,inverted:!0},r.a.createElement(ie.a,{inverted:!0},"Loading")),r.a.createElement(Z.a,{src:"/images/wireframe/short-paragraph.png"})))),r.a.createElement(f.a.Row,null,r.a.createElement(f.a.Column,{width:6},r.a.createElement(xe.a,{pointing:!0,vertical:!0,fluid:!0},r.a.createElement(xe.a.Item,{name:"Billing Address",active:"billingAddress"===a,onClick:function(){return e.handleItemClick("billingAddress")}}),r.a.createElement(xe.a.Item,{name:"Shipping Address",active:"shippingAddress"===a,onClick:function(){return e.handleItemClick("shippingAddress")}}),r.a.createElement(xe.a.Item,{name:"Payment history",active:"paymentHistory"===a,onClick:function(){return e.handleItemClick("paymentHistory")}}))),r.a.createElement(f.a.Column,{width:10},r.a.createElement(E.a,null,this.handleGetActiveItem()),r.a.createElement(te.a,null),"paymentHistory"===a?r.a.createElement(Re,null):this.renderAddresses()))):r.a.createElement(h.a,{to:"/login"})}}]),t}(r.a.Component),He=Object(m.b)((function(e){return{isAuthenticated:null!==e.auth.token}}))(Pe),ze=function(){return r.a.createElement(p,null,r.a.createElement(h.b,{exact:!0,path:"/products",component:fe}),r.a.createElement(h.b,{path:"/products/:productID",component:Ce}),r.a.createElement(h.b,{path:"/login",component:J}),r.a.createElement(h.b,{path:"/signup",component:V}),r.a.createElement(h.b,{path:"/order-summary",component:we}),r.a.createElement(h.b,{path:"/checkout",component:_e}),r.a.createElement(h.b,{path:"/profile",component:He}),r.a.createElement(h.b,{exact:!0,path:"/",component:oe}))},Ue=(a(369),a(80)),Me=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchCart()}},{key:"render",value:function(){var e=this,t=this.props,a=t.authenticated,n=t.cart,l=t.loading;return r.a.createElement("div",null,r.a.createElement(xe.a,{inverted:!0},r.a.createElement(ee.a,null,r.a.createElement(C.b,{to:"/"},r.a.createElement(xe.a.Item,{header:!0},"Home")),r.a.createElement(C.b,{to:"/products"},r.a.createElement(xe.a.Item,{header:!0},"Products")),a?r.a.createElement(r.a.Fragment,null,r.a.createElement(xe.a.Menu,{position:"right"},r.a.createElement(C.b,{to:"/profile"},r.a.createElement(xe.a.Item,null,"Profile")),r.a.createElement(Ue.a,{icon:"cart",loading:l,text:"".concat(null!==n?n.order_items.length:0),pointing:!0,className:"link item"},r.a.createElement(Ue.a.Menu,null,null!==n?r.a.createElement(r.a.Fragment,null,n.order_items.map((function(e){return r.a.createElement(Ue.a.Item,{key:e.id},e.quantity," x ",e.item.title)})),n.order_items.length<1?r.a.createElement(Ue.a.Item,null,"No items in your cart"):null,r.a.createElement(Ue.a.Divider,null),r.a.createElement(Ue.a.Item,{icon:"arrow right",text:"Checkout",onClick:function(){return e.props.history.push("/order-summary")}})):r.a.createElement(Ue.a.Item,null,"No items in your cart"))),r.a.createElement(xe.a.Item,{header:!0,onClick:function(){return e.props.logout()}},"Logout"))):r.a.createElement(xe.a.Menu,{position:"right"},r.a.createElement(C.b,{to:"/login"},r.a.createElement(xe.a.Item,{header:!0},"Login")),r.a.createElement(C.b,{to:"/signup"},r.a.createElement(xe.a.Item,{header:!0},"Signup"))))),this.props.children,r.a.createElement(b.a,{inverted:!0,vertical:!0,style:{margin:"5em 0em 0em",padding:"5em 0em"}},r.a.createElement(ee.a,{textAlign:"center"},r.a.createElement(f.a,{divided:!0,inverted:!0,stackable:!0},r.a.createElement(f.a.Column,{width:3},r.a.createElement(E.a,{inverted:!0,as:"h4",content:"Group 1"}),r.a.createElement(ye.a,{link:!0,inverted:!0},r.a.createElement(ye.a.Item,{as:"a"},"Link One"),r.a.createElement(ye.a.Item,{as:"a"},"Link Two"),r.a.createElement(ye.a.Item,{as:"a"},"Link Three"),r.a.createElement(ye.a.Item,{as:"a"},"Link Four"))),r.a.createElement(f.a.Column,{width:3},r.a.createElement(E.a,{inverted:!0,as:"h4",content:"Group 2"}),r.a.createElement(ye.a,{link:!0,inverted:!0},r.a.createElement(ye.a.Item,{as:"a"},"Link One"),r.a.createElement(ye.a.Item,{as:"a"},"Link Two"),r.a.createElement(ye.a.Item,{as:"a"},"Link Three"),r.a.createElement(ye.a.Item,{as:"a"},"Link Four"))),r.a.createElement(f.a.Column,{width:3},r.a.createElement(E.a,{inverted:!0,as:"h4",content:"Group 3"}),r.a.createElement(ye.a,{link:!0,inverted:!0},r.a.createElement(ye.a.Item,{as:"a"},"Link One"),r.a.createElement(ye.a.Item,{as:"a"},"Link Two"),r.a.createElement(ye.a.Item,{as:"a"},"Link Three"),r.a.createElement(ye.a.Item,{as:"a"},"Link Four"))),r.a.createElement(f.a.Column,{width:7},r.a.createElement(E.a,{inverted:!0,as:"h4",content:"Footer Header"}),r.a.createElement("p",null,"Extra space for a call to action inside the footer that could help re-engage users."))),r.a.createElement(te.a,{inverted:!0,section:!0}),r.a.createElement(Z.a,{centered:!0,size:"mini",src:"/logo.png"}),r.a.createElement(ye.a,{horizontal:!0,inverted:!0,divided:!0,link:!0,size:"small"},r.a.createElement(ye.a.Item,{as:"a",href:"#"},"Site Map"),r.a.createElement(ye.a.Item,{as:"a",href:"#"},"Contact Us"),r.a.createElement(ye.a.Item,{as:"a",href:"#"},"Terms and Conditions"),r.a.createElement(ye.a.Item,{as:"a",href:"#"},"Privacy Policy")))))}}]),t}(r.a.Component),Be=Object(h.f)(Object(m.b)((function(e){return{authenticated:null!==e.auth.token,cart:e.cart.shoppingCart,loading:e.cart.loading}}),(function(e){return{logout:function(){return e(G())},fetchCart:function(){return e(pe())}}}))(Me)),Ne=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.onTryAutoSignup()}},{key:"render",value:function(){return r.a.createElement(Be,this.props,r.a.createElement(ze,null))}}]),t}(n.Component),We=Object(m.b)((function(e){return{isAuthenticated:null!==e.auth.token}}),(function(e){return{onTryAutoSignup:function(){return e((function(e){var t=localStorage.getItem("token");if(void 0===t)e(G());else{var a=new Date(localStorage.getItem("expirationDate"));a<=new Date?e(G()):(e(N(t)),e(q((a.getTime()-(new Date).getTime())/1e3)))}}))}}}))(Ne),Ge=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function qe(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Ye=a(59),Je=a(198),$e=function(e,t){return Object(Ee.a)({},e,{},t)},Ve={token:null,error:null,loading:!1},Qe=function(e,t){return $e(e,{error:null,loading:!0})},Xe=function(e,t){return $e(e,{token:t.token,error:null,loading:!1})},Ke=function(e,t){return $e(e,{error:t.error,loading:!1})},Ze=function(e,t){return $e(e,{token:null})},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return Qe(e);case"AUTH_SUCCESS":return Xe(e,t);case"AUTH_FAIL":return Ke(e,t);case"AUTH_LOGOUT":return Ze(e);default:return e}},tt={shoppingCart:null,error:null,loading:!1},at=function(e,t){return $e(e,{error:null,loading:!0})},nt=function(e,t){return $e(e,{shoppingCart:t.data,error:null,loading:!1})},rt=function(e,t){return $e(e,{error:t.error,loading:!1})},lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CART_START":return at(e);case"CART_SUCCESS":return nt(e,t);case"CART_FAIL":return rt(e,t);default:return e}},ot=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ye.d,ct=Object(Ye.c)({auth:et,cart:lt}),it=Object(Ye.e)(ct,ot(Object(Ye.a)(Je.a))),st=r.a.createElement(m.a,{store:it},r.a.createElement(C.a,{basename:"/FrontEnd-React-Ecommerce"},r.a.createElement(We,null)));o.a.render(st,document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/FrontEnd-React-Ecommerce",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/FrontEnd-React-Ecommerce","/service-worker.js");Ge?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):qe(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):qe(e)}))}}()}},[[207,1,2]]]);
//# sourceMappingURL=main.96caa99a.chunk.js.map